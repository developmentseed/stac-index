{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Item.vue?23d1","webpack:///./src/components/Catalog.vue?5829","webpack:///src/components/Catalog.vue","webpack:///./src/components/Catalog.vue?ee76","webpack:///./src/components/Catalog.vue","webpack:///./src/main.js","webpack:///./src/components/Item.vue?ff61","webpack:///src/components/Item.vue","webpack:///./src/components/Item.vue?fdab","webpack:///./src/components/Item.vue","webpack:///./vue.config.js","webpack:///./src/properties.js","webpack:///./src/components/common.js","webpack:///./src/components/Item.vue?783d","webpack:///./src/components/Catalog.vue?d447","webpack:///./src/util.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","class","loaded","attrs","breadcrumbs","keywords","license","spatialExtent","staticClass","_v","_s","title","version","_e","url","domProps","description","model","callback","$$v","tabIndex","expression","visibleTabs","includes","children","childFields","childrenPerPage","currentChildPage","scopedSlots","_u","fn","item","to","childCount","items","itemFields","itemsPerPage","currentItemListPage","sortCompare","itemCount","currentItemPage","bands","bandFields","stacVersion","temporalExtent","_l","props","ext","prop","label","providers","provider","index","Array","isArray","roles","join","staticRenderFns","ancestors","type","required","path","String","resolve","Function","slugify","validate","externalItemCount","externalItemsPerPage","externalItemPaging","locatorMap","selectedTab","validationErrors","asyncComputed","externalItems","default","lazy","computed","_description","catalog","_items","links","filter","_license","_title","entity","extent","hasExternalItems","find","map","idx","start","end","dateAcquired","properties","datetime","itemLink","href","itemUrl","ITEMS_PER_PAGE","jsonLD","identifier","doi","citation","isBasedOn","id","undefined","parent","dataCatalog","isPartOf","text","spatial","spatialCoverage","geo","box","bbox","temporal","temporalCoverage","interval","stac_version","indexOf","set","$nextTick","watch","from","updateState","cp","ip","methods","initialize","syncWithQueryState","$route","query","initializeLocatorMap","remove","attributionControl","zoomControl","boxZoom","doubleClickZoom","dragging","scrollWheelZoom","touchZoom","fitBounds","overlayLayer","getBounds","padding","a","b","toString","localeCompare","numeric","qs","Number","component","Vue","Multiselect","use","AsyncComputed","BootstrapVue","Clipboard","Meta","VueRouter","Vuex","API","main","decode","bs58","err","console","warn","CATALOG_URL","location","search","alert","ID","substr","fetchUri","rsp","ok","json","message","makeRelative","uri","rootURI","parse","localURI","hostname","rootPath","split","relative","hash","encode","Buffer","base","URL","persistedState","renderedState","document","querySelector","JSON","collectionValidator","fetchSchemaValidator","validateCollection","errors","catalogValidator","validateCatalog","itemValidator","validateItem","routes","Item","route","params","concat","center","pop","Catalog","store","Store","state","entities","loading","getters","getEntity","mutations","FAILED","LOADING","LOADED","actions","load","commit","Error","strict","process","router","VueConfig","publicPath","dispatch","beforeEach","next","replace","toLowerCase","urls","reverse","pMap","concurrency","el","getElementById","template","cogs","selectedImage","features","selectedFeatures","thumbnail","asset","bandNames","linkToCollection","collection","licensor","fullscreen","featuresLayer","tileLayer","locatorOverlayLayer","geojsonOptions","style","weight","color","opacity","fillOpacity","_collectionLinks","_properties","_keywords","_providers","_temporalCoverage","assets","attribution","cog","collectionLink","slug","featuresSource","_entity","licenseUrl","workExample","includedInDataCatalog","parentLink","distribution","image","dataset","tileSource","initializeFeaturesLayer","getContainer","classList","add","invalidateSize","sf","si","removeFrom","onEachFeature","innerHTML","entries","feature","pane","initializePreviewMap","on","updateHash","setPrefix","button","maxZoom","setView","lat","lng","zoom","runtimeCompiler","getPropertyDefinitions","coreProperties","stacExtensions","checksum","datacube","skip","eo","pc","proj","sar","sat","sci","timestamps","published","expires","unpublished","view","suffix","dtr","externalProviderGroups","pl","cbers","dg","landsat","gee","sentinel","propertyDefinitions","groups","coreProp","seGroup","seProp","exGroup","exProp","propertyMap","groupMap","BAND_LABELS","common_name","gsd","accuracy","center_wavelength","full_width_half_max","MARKDOWN_READER","Parser","smart","MARKDOWN_WRITER","HtmlRenderer","safe","softbreak","metaInfo","meta","content","GOOGLE_SITE_VERIFICATION","script","__dangerouslyDisableSanitizers","titleTemplate","mapGetters","_collectionProperties","$router","rootCatalog","example","keys","k","slugs","spdxLicenseIds","spdxToHTML","x","rel","values","propertyList","format","escape","Date","toLocaleString","timeZone","timeZoneName","v","property_key","counts","count","statistics","stringify","isFinite","isEmpty","sort","reduce","acc","prefix","rootLink","isEqual","_validate","mounted","then","log","group","forEach","dataPath","jsonQuery","clone","groupEnd","updated","STAC_PROXY_URL","proxiedUri","fetch","modifyLoadSchemaUri","baseUrl","fixUpSchema","schema","schemaUri","$id","stacObjectType","schemaUrl","statusText","loadSchema","uriToFetch","loadedSchema","ajv","Ajv","compileAsync"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,WAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,yBAAme,EAAG,G,+ECAte,IAAIyC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAMN,EAAIO,QAAU,UAAU,CAACH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,OAAO,CAACJ,EAAG,SAAS,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQR,EAAIS,gBAAgB,MAAM,GAAGL,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAKR,EAAIU,SAAShE,OAAS,GAAoB,MAAfsD,EAAIW,SAAwC,MAArBX,EAAIY,cAC/V,EACA,KAAK,CAACR,EAAG,KAAK,CAACS,YAAY,UAAU,CAACb,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,UAAWhB,EAAW,QAAEI,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACJ,EAAIc,GAAG,WAAWd,EAAIe,GAAGf,EAAIiB,cAAcjB,EAAIkB,KAAKd,EAAG,IAAI,CAACS,YAAY,UAAU,CAACT,EAAG,QAAQ,CAAEJ,EAAoB,iBAAEI,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQ,mEAAmE,CAACR,EAAIc,GAAG,QAAQd,EAAIkB,KAAKd,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAImB,YAAanB,EAAe,YAAEI,EAAG,MAAM,CAACgB,SAAS,CAAC,UAAYpB,EAAIe,GAAGf,EAAIqB,gBAAgBrB,EAAIkB,KAAKd,EAAG,SAAS,CAACkB,MAAM,CAACvC,MAAOiB,EAAY,SAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,SAASD,GAAKE,WAAW,aAAa,CAAE1B,EAAI2B,YAAYC,SAAS,YAAaxB,EAAG,QAAQ,CAACf,IAAI,WAAWmB,MAAM,CAAC,MAAQ,aAAa,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQR,EAAI6B,SAAS,OAAS7B,EAAI8B,YAAY,WAAW9B,EAAI+B,gBAAgB,eAAe/B,EAAIgC,iBAAiB,UAAW,EAAK,WAAa,GAAG,MAAQ,GAAG,QAAU,IAAIC,YAAYjC,EAAIkC,GAAG,CAAC,CAAC7C,IAAI,aAAa8C,GAAG,SAASjG,GAAM,MAAO,CAACkE,EAAG,cAAc,CAACI,MAAM,CAAC,GAAKtE,EAAKkG,KAAKC,KAAK,CAACrC,EAAIc,GAAGd,EAAIe,GAAG7E,EAAKkG,KAAKpB,cAAc,MAAK,EAAM,cAAehB,EAAIsC,WAAatC,EAAI+B,gBAAiB3B,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,GAAG,aAAaR,EAAIsC,WAAW,WAAWtC,EAAI+B,gBAAgB,yBAAwB,GAAMT,MAAM,CAACvC,MAAOiB,EAAoB,iBAAEuB,SAAS,SAAUC,GAAMxB,EAAIgC,iBAAiBR,GAAKE,WAAW,sBAAsB1B,EAAIkB,MAAM,GAAGlB,EAAIkB,KAAMlB,EAAI2B,YAAYC,SAAS,SAAUxB,EAAG,QAAQ,CAACf,IAAI,QAAQmB,MAAM,CAAC,MAAQ,UAAU,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQR,EAAIuC,MAAM,OAASvC,EAAIwC,WAAW,WAAWxC,EAAIyC,aAAa,eAAezC,EAAI0C,oBAAoB,eAAe1C,EAAI2C,YAAY,UAAW,EAAK,WAAa,GAAG,MAAQ,GAAG,QAAU,IAAIV,YAAYjC,EAAIkC,GAAG,CAAC,CAAC7C,IAAI,aAAa8C,GAAG,SAASjG,GAAM,MAAO,CAACkE,EAAG,cAAc,CAACI,MAAM,CAAC,GAAKtE,EAAKkG,KAAKC,KAAK,CAACrC,EAAIc,GAAGd,EAAIe,GAAG7E,EAAKkG,KAAKpB,cAAc,MAAK,EAAM,cAAehB,EAAI4C,UAAY5C,EAAIyC,aAAcrC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,GAAG,aAAaR,EAAI4C,UAAU,WAAW5C,EAAIyC,aAAa,yBAAwB,GAAMnB,MAAM,CAACvC,MAAOiB,EAAmB,gBAAEuB,SAAS,SAAUC,GAAMxB,EAAI6C,gBAAgBrB,GAAKE,WAAW,qBAAqB1B,EAAIkB,MAAM,GAAGlB,EAAIkB,KAAMlB,EAAI2B,YAAYC,SAAS,SAAUxB,EAAG,QAAQ,CAACf,IAAI,QAAQmB,MAAM,CAAC,MAAQ,UAAU,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQR,EAAI8C,MAAM,OAAS9C,EAAI+C,WAAW,WAAa,GAAG,MAAQ,GAAG,QAAU,OAAO,GAAG/C,EAAIkB,MAAM,IAAI,GAAIlB,EAAIU,SAAShE,OAAS,GAAoB,MAAfsD,EAAIW,SAAwC,MAArBX,EAAIY,cAAuBR,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAG,SAAS,CAACI,MAAM,CAAC,aAAa,UAAU,CAAER,EAAiB,cAAEI,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,iBAAiBR,EAAIkB,KAAKd,EAAG,MAAM,CAACS,YAAY,6BAA6B,CAACT,EAAG,QAAQ,CAACS,YAAY,SAAS,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,QAAQL,MAAM,CAAC,QAAU,MAAM,CAACJ,EAAG,KAAK,CAACJ,EAAIc,GAAG,kBAAkBV,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,SAAS,CAACb,EAAIc,GAAG,kBAAkBV,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgD,kBAAmBhD,EAAY,SAAEI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,SAAS,CAACb,EAAIc,GAAG,cAAcV,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIU,eAAeV,EAAIkB,KAAMlB,EAAW,QAAEI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,SAAS,CAACb,EAAIc,GAAG,aAAaV,EAAG,KAAK,CAACgB,SAAS,CAAC,UAAYpB,EAAIe,GAAGf,EAAIW,cAAcX,EAAIkB,KAAMlB,EAAkB,eAAEI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,SAAS,CAACb,EAAIc,GAAG,qBAAqBV,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIiD,qBAAqBjD,EAAIkB,KAAKlB,EAAIkD,GAAIlD,EAAgB,cAAE,SAASmD,EAAMC,GAAK,MAAO,CAAC,EAAMhD,EAAG,KAAK,CAACf,IAAI+D,GAAK,CAAChD,EAAG,KAAK,CAACS,YAAY,QAAQL,MAAM,CAAC,QAAU,MAAM,CAACJ,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGqC,UAAYpD,EAAIkB,KAAKlB,EAAIkD,GAAG,GAAQ,SAASG,GAAM,OAAOjD,EAAG,KAAK,CAACf,IAAIgE,EAAKhE,KAAK,CAACe,EAAG,KAAK,CAACS,YAAY,SAAS,CAACT,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQ6C,EAAKhE,KAAK+B,SAAS,CAAC,UAAYpB,EAAIe,GAAGsC,EAAKC,YAAYlD,EAAG,KAAK,CAACgB,SAAS,CAAC,UAAYpB,EAAIe,GAAGsC,EAAKtE,mBAAkBiB,EAAa,UAAE,CAACI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,QAAQL,MAAM,CAAC,QAAU,MAAM,CAACJ,EAAG,KAAK,CAA2B,IAAzBJ,EAAIuD,UAAU7G,OAAc,CAACsD,EAAIc,GAAG,eAAed,EAAIkB,KAA+B,IAAzBlB,EAAIuD,UAAU7G,OAAc,CAACsD,EAAIc,GAAG,gBAAgBd,EAAIkB,MAAM,OAAOlB,EAAIkD,GAAIlD,EAAa,WAAE,SAASwD,EAASC,GAAO,MAAO,CAACrD,EAAG,KAAK,CAACf,IAAImE,EAASrC,IAAMsC,GAAO,CAACrD,EAAG,KAAK,CAACS,YAAY,WAAWL,MAAM,CAAC,QAAU,MAAM,CAACJ,EAAG,IAAI,CAACI,MAAM,CAAC,KAAOgD,EAASrC,MAAM,CAACnB,EAAIc,GAAGd,EAAIe,GAAGyC,EAASlF,SAAUkF,EAAc,MAAEpD,EAAG,KAAK,CAACJ,EAAIc,GAAG,IAAId,EAAIe,IAAI2C,MAAMC,QAAQH,EAASI,OAASJ,EAASI,MAAQ,IAAIC,KAAK,OAAO,OAAO7D,EAAIkB,KAAMsC,EAAoB,YAAEpD,EAAG,MAAM,CAACS,YAAY,cAAcO,SAAS,CAAC,UAAYpB,EAAIe,GAAGyC,EAASnC,gBAAgBrB,EAAIkB,cAAalB,EAAIkB,MAAM,UAAU,GAAGlB,EAAIkB,MAAM,IAAI,GAAGd,EAAG,SAAS,CAACS,YAAY,UAAU,CAACT,EAAG,cAAc,CAACA,EAAG,OAAO,CAACS,YAAY,wBAAwB,CAACb,EAAIc,GAAG,gBAAgBV,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,iDAAiD,CAACR,EAAIc,GAAG,uBAAuB,IAAI,IACriJgD,EAAkB,G,+PC6NtB,KAEe,mCACf,QADA,IAEExF,KAAM,UACN6E,MAAO,CACLY,UAAW,CACTC,KAAMN,MACNO,UAAU,GAEZC,KAAM,CACJF,KAAMG,OACNF,UAAU,GAEZG,QAAS,CACPJ,KAAMK,SACNJ,UAAU,GAEZK,QAAS,CACPN,KAAMK,SACNJ,UAAU,GAEZ9C,IAAK,CACH6C,KAAMG,OACNF,UAAU,GAEZM,SAAU,CACRP,KAAMK,SACNJ,UAAU,IAGd/H,KA7BF,WA8BI,MAAO,CACLsI,kBAAmB,EACnBC,qBAAsB,EACtBC,oBAAoB,EACpB5C,YAAa,CACnB,CACQ,IAAR,OACQ,MAAR,QACQ,UAAR,IAGME,iBAAkB,EAClBD,gBAAiB,GACjBS,WAAY,CAClB,CACQ,IAAR,OACQ,MAAR,QACQ,UAAR,GAEA,CACQ,IAAR,eACQ,MAAR,gBACQ,UAAR,EACQ,UAAR,YACU,GAAV,SACY,IAAZ,cACY,OAAZ,sCAGU,MAAV,MAIMK,gBAAiB,EACjBH,oBAAqB,EACrBiC,WAAY,KACZC,YAAa,KACbC,iBAAkB,OAGtBC,cAAe,CACbC,cAAe,CACbC,QAAS,GACTC,MAAM,EACN,IAHN,WAGA,yKACA,qDAEA,QAHA,yCAIA,IAJA,gCAQA,gBACA,OADA,iBACA,oBATA,UAQA,EARA,OAYA,KAZA,6BAaA,QAbA,UAaA,SAbA,gCAaA,KAbA,kCAcA,IAdA,yBAiBA,SAjBA,eAiBA,EAjBA,OAqBA,YACA,UACA,qBAEA,SACA,8BACA,+BACA,yBAEA,sCAIA,qCAlCA,kBAoCA,qCACA,OACA,oDACA,OADA,iBACA,kBADA,YACA,KAEA,+BACA,wCA1CA,4CA6CA,mBA7CA,kBA+CA,IA/CA,+DAoDEC,SAAU,OAAZ,OAAY,CAAZ,iCACA,iBACA,+BAFA,IAGIC,aAHJ,WAIM,OAAOlF,KAAKmF,QAAQ/D,aAEtBgE,OANJ,WAOM,OAAOpF,KAAKqF,MAAMC,QAAO,SAA/B,4BAEIC,SATJ,WAUM,OACN,kEAGIC,OAdJ,WAeM,OAAOxF,KAAKmF,QAAQpE,OAEtB8B,MAjBJ,WAkBM,OACN,8BACA,kBACA,6BACA,yCACA,IAGIsC,QA1BJ,WA2BM,OAAOnF,KAAKyF,QAEdpD,WA7BJ,WA8BM,OAAOrC,KAAKqF,MAAMC,QAAO,SAA/B,oCAEI1D,SAhCJ,WAgCA,WACM,OAAO5B,KAAKqF,MAClB,oBAAQ,MAAR,mBACA,iBAEQ,IAAR,qCAEA,kBACU,GAAV,KAGQ,IAAR,qCACA,iBAEQ,MAAR,CACU,KAAV,OACU,GAAV,EAEU,MAAV,sBACU,IAAV,6BAIIK,OAvDJ,WAwDM,OACN,qBACA,2CACA,IAGIC,iBA9DJ,WA+DM,OAAN,MAAa3F,KAAKqF,MAAMO,MAAK,SAA7B,6BAEIjD,UAjEJ,WAkEM,OAAK3C,KAAK2F,iBAIH3F,KAAKuE,kBAHHvE,KAAKqF,MAAMC,QAAO,SAAjC,mCAKIhD,MAxEJ,WAwEA,WACA,6CACA,yCAEM,OAAKtC,KAAK2F,iBAiCH3F,KAAK8E,cAhCH9E,KAAKoF,OAAOS,KAAI,SAA/B,KACU,IAAV,0BAEcC,GAAOC,GAASD,EAAME,GAExB,EAAZ,QAIU,IAAV,iBAEU,OAAY,MAAR7D,EACK,CACLA,KAAd,EACcC,GAAI,QAAlB,wCACcrB,MACd,oBACA,MACA,SACA,OACckF,aAAc9D,EAAK+D,WAAWC,UAI3B,CACL/D,GAAI,QAAhB,wCACYrB,MAAOqF,EAASrF,OAASqF,EAASC,KAClCnF,IAAKoF,OAOb9D,aA/GJ,WAgHM,OAAIxC,KAAKyE,mBACAzE,KAAKwE,qBAGP+B,GAETC,OAtHJ,WAuHM,IAAN,yBACA,cACQ,IAAR,oCAEQ,OAAR,wBACU,OAAV,GACY,IAAZ,WACc,EAAd,sCACc,EAAd,sBACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAEF,IAAZ,WACc,EAAd,wBACc,EAAd,eACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAEF,IAAZ,YACc,EAAd,8BACc,EAAd,kBACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAEF,IAAZ,OACc,EAAd,wBACc,EAAd,eACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAGJ,OAAV,IACA,KAEA,CACQ,WAAR,sBACQ,QAAR,cAEQ,KAAR,WACQ,YAAR,iBAEQ,SAAR,iCACQ,WAAR,6CACQ,SAAR,eACQ,QAAR,gBACQ,UAAR,SACQ,QAAR,aACQ,IAAR,UACQ,aAAR,2DAAU,MAAV,CACYC,WAAYhH,EAAEiH,IACdC,SAAUlH,EAAEkH,aAEhB,QAAR,+BAAU,IAAV,yBAAU,MAAV,CACY,QAAS,cACTtI,KAAZ,EACYuI,UAAW1F,EACXA,IAAKkB,MAET,QAAR,4BAAU,IAAV,kCAAU,MAAV,CACYqE,WAAYtE,EAAOA,EAAK0E,QAAKC,EAC7BzI,KAAZ,EACYuI,UAAW1F,EACXA,IAAKkB,QAKjB,8CAEoB,MAAV2E,IACFC,EAAYC,SAAW,CACrB,QAAS,cACT5I,KAAM0I,EAAOG,KACbN,UAAWG,EAAO7F,IAClBA,IAAK6F,EAAO3E,KA3FtB,MA+FA,cA/FA,EA+FA,UA/FA,EA+FA,SAEM,GAAe,MAAX+E,EAAiB,CACnB,IAAR,SACA,0CACA,EAEQH,EAAYI,gBAAkB,CAC5B,QAAS,QACTC,IAAK,CACH,QAAS,WACTC,IAAKC,EAAK3D,KAAK,OAKrB,GAAgB,MAAZ4D,EAAkB,CACpB,IAAR,aACA,cACA,EAEQR,EAAYS,iBAAmBC,EAAS7B,KAAI,SAApD,+BAGM,OAAOmB,GAETrG,cA/OJ,WA+OA,IACA,sBAEM,GAAe,MAAXwG,EACF,OAAR,KAMM,IAAN,SACA,0CACA,EAEM,OAAOI,GAETxE,YA/PJ,WAiQM,OAAO/C,KAAKmF,QAAQwC,cAEtBnG,SAAU,CACR9C,IAAK,WACH,OAAOsB,KAAK0B,YAAYkG,QAAQ5H,KAAK2E,cAEvCkD,IAAK,SAAX,cAEQ7H,KAAK8H,WAAU,WACb,EAAV,kCAII9E,eA9QJ,WA8QA,IACA,uBAEM,GAAgB,MAAZwE,EACF,OAAO,KAMT,IAAN,aACA,cACA,EAEM,MAAO,CACb,KACA,gCACA,oBACA,4CACA,aAEIxG,QAnSJ,WAoSM,OAAOhB,KAAKmF,QAAQnE,SAEtBU,YAtSJ,WAuSM,MAAO,CACb,+BACA,kDACA,8BACA,iDAGEqG,MAAO,OAAT,OAAS,CAAT,kBACA,cADA,IAEIhG,iBAFJ,SAEA,KACUK,IAAO4F,GACThI,KAAKiI,YAAY,CACfC,GAAI9F,KAIVQ,gBATJ,SASA,KACUR,IAAO4F,GACThI,KAAKiI,YAAY,CACfE,GAAI/F,KAIVuC,YAhBJ,SAgBA,KACUvC,IAAO4F,GACThI,KAAKiI,YAAY,CACflJ,EAAGqD,OAKXgG,QAAS,OAAX,OAAW,CAAX,iCACA,gBACA,0BAFA,IAGIC,WAHJ,WAGA,WACgC,MAAtBrI,KAAKW,eACPX,KAAK8H,WAAU,WAAvB,mCAGM9H,KAAKsI,mBAAmBtI,KAAKuI,OAAOC,QAEtCC,qBAVJ,WAeM,GAJuB,MAAnBzI,KAAK0E,YACP1E,KAAK0E,WAAWgE,SAGQ,MAAtB1I,KAAKW,cAAT,CAKAX,KAAK0E,WAAa,EAAxB,qBACQiE,oBAAoB,EACpBC,aAAa,EACbC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,EACVC,iBAAiB,EACjBC,WAAW,IAGb,EAAN,YACA,qEACA,CACQ,YAAR,gKAEA,uBACM,EAAN,YACA,wEACA,CACQ,OAAR,MAEA,uBA/BA,qBAiCA,mBAjCA,GAiCA,EAjCA,KAiCA,EAjCA,KAiCA,EAjCA,KAiCA,EAjCA,KAkCA,GACA,iCAGA,cACA,CACQ,KAAR,UACQ,YAAR,GAEA,CACQ,KAAR,WACQ,MAAR,CACU,OAAV,EACU,MAAV,UACU,QAAV,EACU,YAAV,OAGA,uBAEMjJ,KAAK0E,WAAWwE,UAAUC,EAAaC,YAAa,CAClDC,QAAS,CAAC,GAAI,QAGlB3G,YApEJ,SAoEA,OAKM,MAJY,SAARtD,IACFA,EAAM,SAGM,MAAVkK,EAAElK,IACI,EAChB,WACe,EACf,+CAEekK,EAAElK,GAAOmK,EAAEnK,IAAQ,EAAIkK,EAAElK,GAAOmK,EAAEnK,GAAO,EAAI,EAG7CkK,EAAElK,GAAKoK,WAAWC,cAAcF,EAAEnK,GAAKoK,gBAAY1C,EAAW,CACnE4C,SAAS,KAIfpB,mBAvFJ,SAuFA,GACMtI,KAAK2E,YAAcgF,EAAG5K,EACtBiB,KAAK+B,iBAAmB6H,OAAOD,EAAGzB,KAAOlI,KAAK+B,iBAC9C/B,KAAK4C,gBAAkBgH,OAAOD,EAAGxB,KAAOnI,KAAK4C,gBAI7C5C,KAAKyC,oBAAsBzC,KAAK2F,iBAAmB,EAAI3F,KAAK4C,qBCpwB+Q,I,wBCQ7UiH,EAAY,eACd,EACA/J,EACA+D,GACA,EACA,KACA,WACA,MAIa,OAAAgG,E,qlBCQfC,aAAID,UAAU,cAAeE,KAE7BD,aAAIE,IAAIC,QACRH,aAAIE,IAAIE,QACRJ,aAAIE,IAAIG,KACRL,aAAIE,IAAII,QACRN,aAAIE,IAAIK,QACRP,aAAIE,IAAIM,QAER,IAAMC,EAA8C,kCAE9CC,EAAI,yDAAG,+BAoDFC,EApDE,sGAoDFA,EApDE,SAoDK5M,GACd,IACE,OAAOsG,EAAQuG,IAAKD,OAAO5M,GAAG2L,YAC9B,MAAOmB,GAEP,OADAC,QAAQC,KAAKF,GACNG,MAvD2B,kBAA3BnL,OAAOoL,SAASC,QAAuBrL,OAAOoL,SAASC,OAAOvO,OAAS,GAFvE,uBAGTwO,MAAM,uCAHG,iCAOLC,EAAKvL,OAAOoL,SAASC,OAAOG,OAAO,GAP9B,SAULL,EAAc,KAVT,SAWSM,eAASb,EAAM,gBAAkBW,GAX1C,UAWHG,EAXG,OAYJA,EAAIC,GAZA,wBAaPL,MAAM,sCAbC,4CAgBYI,EAAIE,OAhBhB,WAgBH9F,EAhBG,OAiBJA,EAjBI,wBAkBPwF,MAAM,6BAlBC,2BAqBTH,EAAcrF,EAAOvE,IArBZ,qDAuBT+J,MAAM,KAAIO,SAvBD,QAmEX,GAzCMC,EAAe,SAAAC,GACnB,IAAMC,EAAUzK,IAAI0K,MAAMd,GACpBe,EAAW3K,IAAI0K,MAAMF,GAE3B,GAAIC,EAAQG,WAAaD,EAASC,SAChC,OAAOJ,EAGT,IAAMK,EAAWJ,EAAQ1H,KACtB+H,MAAM,KACNnM,MAAM,GAAI,GACV+D,KAAK,KAER,OAAOK,IAAKgI,SAASF,EAAd,UAA2BF,EAAS5H,MAApC,OAA2C4H,EAASK,MAAQ,MAS/D7H,EAAU,SAAAqH,GAAG,OAAIhB,IAAKyB,OAAOC,EAAOpE,KAAKyD,EAAaC,MAEtDvH,EAAU,SAACkC,GAAD,IAAOgG,EAAP,uDAAcvB,EAAd,OAA8B,IAAIwB,IAAIjG,EAAMgG,GAAM7C,YAY9D+C,EAAiB,GACfC,EAAgBC,SAASC,cAC7B,yCAGmB,MAAjBF,EACF,IACED,EAAiBI,KAAKf,MAAMY,EAActF,MAC1C,MAAOyD,GACPC,QAAQC,KAAK,kCAAmCF,GAvEzC,OA2ELiC,EA3EK,yDA2EiB,WAAO3Q,GAAP,gGACpB8G,EAAc9G,EAAK0L,cAAgB,QADf,SAGKkF,eAAqB,aAAc9J,GAHxC,UAGtB+J,EAHsB,OAIrBA,EAAmB7Q,GAJE,yCAKjB6Q,EAAmBC,OAAOlN,SALT,gCAOnB,MAPmB,2CA3EjB,sDAqFLmN,EArFK,yDAqFc,WAAO/Q,GAAP,4FACH,MAAhBA,EAAKyE,SAAkC,MAAfzE,EAAKyJ,OADV,yCAGdkH,EAAoB3Q,IAHN,cAMjB8G,EAAc9G,EAAK0L,cAAgB,QANlB,SAQKkF,eAAqB,UAAW9J,GARrC,UAQnBkK,EARmB,OAUlBA,EAAgBhR,GAVE,yCAWdgR,EAAgBF,OAAOlN,SAXT,gCAchB,MAdgB,2CArFd,sDAsGLqN,EAtGK,yDAsGW,WAAOjR,GAAP,gGACd8G,EAAc9G,EAAK0L,cAAgB,QADrB,SAGKkF,eAAqB,OAAQ9J,GAHlC,UAGhBoK,EAHgB,OAIfA,EAAalR,GAJE,yCAKXkR,EAAaJ,OAAOlN,SALT,gCAOb,MAPa,2CAtGX,sDAgHLuN,EAAS,CACb,CACEnJ,KAAM,eACN4F,UAAWwD,OACXnK,MAAO,SAAAoK,GACL,IAAIxJ,EAAY,CAACgH,GAEQ,MAArBwC,EAAMC,OAAOtJ,OACfH,EAAYA,EAAU0J,OACpBF,EAAMC,OAAOtJ,KAAK+H,MAAM,KAAKnG,IAAI4E,KAIrC,IAAIgD,EAAS,KAMb,MAJkB,IAAdH,EAAMpB,OACRuB,EAASH,EAAMpB,KAAKrM,MAAM,GAAGmM,MAAM,MAG9B,CACLlI,YACA2J,SACAxJ,KAAMqJ,EAAMrJ,KACZE,UACAE,UACAnD,IAAK4C,EAAUjE,OAAO,GAAG6N,MACzBpJ,SAAU4I,KAIhB,CACEjJ,KAAM,qBACN4F,UAAW8D,OACXzK,MAAO,SAAAoK,GACL,IAAIxJ,EAAY,CAACgH,GAQjB,OANyB,MAArBwC,EAAMC,OAAOtJ,OACfH,EAAYA,EAAU0J,OACpBF,EAAMC,OAAOtJ,KAAK+H,MAAM,KAAKnG,IAAI4E,KAI9B,CACL3G,YACAG,KAAMqJ,EAAMrJ,KACZE,UACAE,UACAnD,IAAK4C,EAAUjE,OAAO,GAAG6N,MACzBpJ,SAAUsI,KAIhB,CACE3I,KAAM,UACN4F,UAAW8D,OACXzK,MAAO,SAAAoK,GACL,IAAIxJ,EAAY,CAACgH,GAQjB,OANyB,MAArBwC,EAAMC,OAAOtJ,OACfH,EAAYA,EAAU0J,OACpBF,EAAMC,OAAOtJ,KAAK+H,MAAM,KAAKnG,IAAI4E,KAI9B,CACL3G,YACAG,KAAMqJ,EAAMrJ,KACZE,UACAE,UACAnD,IAAK4C,EAAUjE,OAAO,GAAG6N,MACzBpJ,SAAU0I,MAMZY,EAAQ,IAAItD,OAAKuD,MAAM,CAC3BC,MAAO,CACLC,SAAU,GACVC,QAAS,IAEXC,QAAS,CACPC,UAAW,SAAAJ,GAAK,OAAI,SAAApC,GAAG,OAAIoC,EAAMC,SAASrC,MAE5CyC,UAAW,CACTC,OADS,SACFN,EADE,GACmB,IAAZnD,EAAY,EAAZA,IAAKzJ,EAAO,EAAPA,IACnB4M,EAAMC,SAAN,iCACKD,EAAMC,UADX,qBAEG7M,EAAMyJ,IAGTmD,EAAME,QAAN,iCACKF,EAAME,SADX,qBAEG9M,GAAM,KAGXmN,QAZS,SAYDP,EAAO5M,GACb4M,EAAME,QAAN,iCACKF,EAAME,SADX,qBAEG9M,GAAM,KAGXoN,OAlBS,SAkBFR,EAlBE,GAkBsB,IAAfrI,EAAe,EAAfA,OAAQvE,EAAO,EAAPA,IACtB4M,EAAMC,SAAN,iCACKD,EAAMC,UADX,qBAEG7M,EAAMuE,IAGTqI,EAAME,QAAN,iCACKF,EAAME,SADX,qBAEG9M,GAAM,MAIbqN,QAAS,CACDC,KADC,WACuBtN,GAAK,4JAAtBuN,EAAsB,EAAtBA,OAAQX,EAAc,EAAdA,MACQ,MAAvBA,EAAMC,SAAS7M,KAAuC,IAAvB4M,EAAME,QAAQ9M,GADhB,wDAMjCuN,EAAO,UAAWvN,GANe,kBASbkK,eAASlK,GATI,UASzBmK,EATyB,QAW3BA,EAAIC,GAXuB,kCAYRD,EAAIE,OAZI,QAYvB9F,EAZuB,OAc7BgJ,EAAO,SAAU,CAAEhJ,SAAQvE,QAdE,oCAgB7BuN,EAhB6B,KAgBDC,MAhBC,UAgBWrD,EAAInE,OAhBf,6CAgBwBhG,EAhBxB,MAgBVyJ,IAhBU,KAgBwBzJ,IAhBxB,eAgBtB,SAhBsB,mEAmB/B0J,QAAQC,KAAR,MAEA4D,EAAO,SAAU,CAAE9D,IAAG,KAAEzJ,QArBO,8DAyBrCyN,QAAQC,IAGJC,EAAS,IAAIxE,OAAU,CAC3BgC,KAAMyC,IAAUC,YAAc,IAC9B/P,KAAM,OACNoO,WAGFzN,OAAOkP,OAASA,EArQL,UAuQLjB,EAAMoB,SAAS,OAAQlE,GAvQlB,QAyQX+D,EAAOI,WAAP,yDAAkB,WAAO7M,EAAI4F,EAAMkH,GAAjB,0FACZlH,EAAK/D,OAAS7B,EAAG6B,KADL,yCAEPiL,KAFO,UAMS,MAAvB3C,EAAetI,MACfsI,EAAetI,OAAS7B,EAAG6B,KAAKkL,QAAQ,MAAO,KAC/C5C,EAAetI,KAAKmL,gBAClBhN,EAAG6B,KAAKmL,cAAcD,QAAQ,MAAO,IATzB,yCAWPD,EAAK3C,EAAetI,OAXb,UAcM,MAAlB7B,EAAGmL,OAAOtJ,KAdE,uBAgBRoL,EAAOjN,EAAGmL,OAAOtJ,KACpB+H,MAAM,KACNsD,UACAzJ,IAAI4E,GAnBO,SAqBR8E,IAAKF,EAAMzB,EAAMoB,SAAS3P,KAAKuO,EAAO,QAAS,CACnD4B,YAAa,KAtBD,gCA0BTN,KA1BS,2CAAlB,2DA8BIO,EAAKhD,SAASiD,eAAe,OAGU,MAAvCjD,SAASiD,eAAe,cAC1BD,EAAKhD,SAASiD,eAAe,aAG/B,IAAI5F,aAAI,CACN2F,KACAZ,SACAjB,QACA+B,SAAU,kCAlTD,0DAAH,qDAsTVnF,K,iEC5VA,IAAI1K,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAMN,EAAIO,QAAU,UAAU,CAACH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,OAAO,CAACJ,EAAG,SAAS,CAACA,EAAG,MAAM,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQR,EAAIS,gBAAgB,QAAQ,GAAGL,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAG,KAAK,CAACS,YAAY,UAAU,CAACb,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,UAAUZ,EAAG,IAAI,CAACS,YAAY,UAAU,CAACT,EAAG,QAAQ,CAAEJ,EAAoB,iBAAEI,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQ,mEAAmE,CAACR,EAAIc,GAAG,QAAQd,EAAIkB,KAAKd,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAImB,YAAYf,EAAG,SAAS,CAACkB,MAAM,CAACvC,MAAOiB,EAAY,SAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,SAASD,GAAKE,WAAW,aAAa,CAAE1B,EAAI2B,YAAYC,SAAS,WAAYxB,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,UAAU,OAAS,KAAK,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,kBAAkB,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,WAAYR,EAAI6P,KAAKnT,OAAS,EAAG0D,EAAG,cAAc,CAACI,MAAM,CAAC,QAAUR,EAAI6P,KAAK,YAAc,kBAAkB,WAAW,OAAO,MAAQ,SAASvO,MAAM,CAACvC,MAAOiB,EAAiB,cAAEuB,SAAS,SAAUC,GAAMxB,EAAI8P,cAActO,GAAKE,WAAW,mBAAmB1B,EAAIkB,KAAMlB,EAAI+P,SAASrT,OAAS,EAAG0D,EAAG,cAAc,CAACI,MAAM,CAAC,QAAUR,EAAI+P,SAAS,YAAc,2BAA2B,WAAW,OAAO,MAAQ,SAASzO,MAAM,CAACvC,MAAOiB,EAAoB,iBAAEuB,SAAS,SAAUC,GAAMxB,EAAIgQ,iBAAiBxO,GAAKE,WAAW,sBAAsB1B,EAAIkB,MAAM,GAAGlB,EAAIkB,KAAMlB,EAAI2B,YAAYC,SAAS,aAAcxB,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,YAAY,QAAUR,EAAI2B,YAAYC,SAAS,aAAa,CAACxB,EAAG,IAAI,CAACI,MAAM,CAAC,KAAOR,EAAIiQ,YAAY,CAAC7P,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,YAAY,MAAQ,SAAS,IAAMR,EAAIiQ,iBAAiBjQ,EAAIkB,KAAMlB,EAAI2B,YAAYC,SAAS,UAAWxB,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,SAAS,QAAUR,EAAI2B,YAAYC,SAAS,aAClvD5B,EAAI2B,YAAYC,SAAS,eAAe,CAACxB,EAAG,MAAM,CAACS,YAAY,2BAA2B,CAACT,EAAG,QAAQ,CAACS,YAAY,uBAAuB,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIc,GAAG,UAAWd,EAAI8C,MAAMpG,OAAS,EAAG0D,EAAG,KAAK,CAACJ,EAAIc,GAAG,aAAad,EAAIkB,KAAKd,EAAG,KAAK,CAACJ,EAAIc,GAAG,sBAAsBV,EAAG,QAAQJ,EAAIkD,GAAIlD,EAAU,QAAE,SAASkQ,GAAO,OAAO9P,EAAG,KAAK,CAACf,IAAI6Q,EAAM7Q,KAAK,CAACe,EAAG,KAAK,CAACA,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO0P,EAAM5J,KAAK,MAAQ4J,EAAM7Q,KAAK+B,SAAS,CAAC,UAAYpB,EAAIe,GAAGmP,EAAM5M,YAAatD,EAAI8C,MAAMpG,OAAS,EAAG0D,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGmP,EAAMC,cAAcnQ,EAAIkB,KAAKd,EAAG,KAAK,CAACA,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGmP,EAAMlM,gBAAe,SAAShE,EAAIkB,KAAMlB,EAAI2B,YAAYC,SAAS,SAAUxB,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,QAAQ,QAAUR,EAAI2B,YAAYC,SAAS,aACttB5B,EAAI2B,YAAYC,SAAS,eACzB5B,EAAI2B,YAAYC,SAAS,YAAY,CAACxB,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQR,EAAI8C,MAAM,OAAS9C,EAAI+C,WAAW,WAAa,GAAG,MAAQ,GAAG,QAAU,OAAO,GAAG/C,EAAIkB,MAAM,IAAI,GAAGd,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,MAAM,CAACJ,EAAG,SAAS,CAACI,MAAM,CAAC,aAAa,UAAU,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,iBAAiBJ,EAAG,MAAM,CAACS,YAAY,6BAA6B,CAACT,EAAG,QAAQ,CAACS,YAAY,SAAS,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,QAAQL,MAAM,CAAC,QAAU,MAAM,CAACJ,EAAG,KAAK,CAACJ,EAAIc,GAAG,kBAAmBd,EAAc,WAAEI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,SAAS,CAACb,EAAIc,GAAG,gBAAgBV,EAAG,KAAK,CAACA,EAAG,cAAc,CAACI,MAAM,CAAC,GAAKR,EAAIoQ,mBAAmB,CAACpQ,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAIqQ,WAAWrP,OAAS,YAAY,QAAQ,KAAKhB,EAAIkB,KAAMlB,EAAW,QAAEI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACS,YAAY,SAAS,CAACb,EAAIc,GAAG,aAAaV,EAAG,KAAK,CAACA,EAAG,OAAO,CAACgB,SAAS,CAAC,UAAYpB,EAAIe,GAAGf,EAAIW,YAAaX,EAAY,SAAE,CAACA,EAAIc,GAAG,OAAOV,EAAG,OAAO,CAACgB,SAAS,CAAC,UAAYpB,EAAIe,GAAGf,EAAIsQ,cAActQ,EAAIkB,MAAM,KAAKlB,EAAIkB,KAAKlB,EAAIkD,GAAIlD,EAAgB,cAAE,SAASmD,EAAMC,GAAK,MAAO,CAAC,EAAMhD,EAAG,KAAK,CAACf,IAAI+D,GAAK,CAAChD,EAAG,KAAK,CAACS,YAAY,QAAQL,MAAM,CAAC,QAAU,MAAM,CAACJ,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGqC,UAAYpD,EAAIkB,KAAKlB,EAAIkD,GAAG,GAAQ,SAASG,GAAM,OAAOjD,EAAG,KAAK,CAACf,IAAIgE,EAAKhE,KAAK,CAACe,EAAG,KAAK,CAACS,YAAY,SAAS,CAACT,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQ6C,EAAKhE,KAAK+B,SAAS,CAAC,UAAYpB,EAAIe,GAAGsC,EAAKC,YAAYlD,EAAG,KAAK,CAACgB,SAAS,CAAC,UAAYpB,EAAIe,GAAGsC,EAAKtE,oBAAkB,UAAU,IAAI,IAAI,GAAGqB,EAAG,SAAS,CAACS,YAAY,UAAU,CAACT,EAAG,cAAc,CAACA,EAAG,OAAO,CAACS,YAAY,wBAAwB,CAACb,EAAIc,GAAG,gBAAgBV,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,iDAAiD,CAACR,EAAIc,GAAG,uBAAuB,IAAI,IACnlDgD,EAAkB,G,iZCuMtB,GACA,+CACA,kBACA,4DAGA,2BAEe,mCACf,QADA,IAEExF,KAAM,aACN6E,MAAO,CACLY,UAAW,CACTC,KAAMN,MACNO,UAAU,GAEZyJ,OAAQ,CACN1J,KAAMN,MACNsB,QAAS,MAEXd,KAAM,CACJF,KAAMG,OACNF,UAAU,GAEZG,QAAS,CACPJ,KAAMK,SACNJ,UAAU,GAEZK,QAAS,CACPN,KAAMK,SACNJ,UAAU,GAEZ9C,IAAK,CACH6C,KAAMG,OACNF,UAAU,GAEZM,SAAU,CACRP,KAAMK,SACNJ,UAAU,IAGd/H,KAjCF,WAkCI,MAAO,CACLqU,YAAY,EACZ5L,WAAY,KACZmB,IAAK,KACL0K,cAAe,KACfC,UAAW,KACXrH,aAAc,KACdsH,oBAAqB,KACrBC,eAAgB,CACdC,MAAO,WACL,MAAO,CACLC,OAAQ,EACRC,MAAO,OACPC,QAAS,EACTC,YAAa,KAInBhB,iBAAkB,KAClBF,cAAe,KACflL,YAAa,KACbC,iBAAkB,OAGtBK,SAAU,OAAZ,OAAY,CAAZ,iCACA,iBACA,+BAFA,IAGI+L,iBAHJ,WAIM,OAAOhR,KAAKqF,MAAMC,QAAO,SAA/B,kCAEIJ,aANJ,WAOM,OAAOlF,KAAKiR,YAAY7P,aAE1B8P,UATJ,WAUM,OACN,2CACA,uCAGI3L,SAfJ,WAgBM,OACN,kCACA,0CACA,4CAGI4L,WAtBJ,WAuBM,OACN,oCACA,4CACA,wCAGIC,kBA7BJ,WA8BM,OAA8C,MAA1CpR,KAAKiR,YAAY,sBACZ,CACf,uCACA,sCAEA,iBAAU,OAAV,WACA,UAGajR,KAAKiR,YAAY9K,UAE1BX,OAzCJ,WA0CM,OAAOxF,KAAKiR,YAAYlQ,OAE1BsQ,OA5CJ,WA4CA,WACM,OACN,8BACA,iBAAQ,OAAR,iCACA,kBADA,IAEU,IAAV,OAEA,iBAAQ,OAAR,iCACA,GADA,IAEU,OAAV,oCAAY,OAAZ,cACU,MAAV,8BACU,MACV,8BACA,0BADA,WAEU,KAAV,6BAEA,iBAAQ,OAAR,iCACA,GADA,IAEU,UAAV,QACA,iBAAY,OACZ,QACA,qCACA,QAEA,oBAAY,OAAZ,WACA,gBAGA,oBACQ,IAAR,kBACA,kBAEQ,OAAR,KACA,EAGA,IACA,EAGA,MAIIC,YAxFJ,WAyFM,OAAoB,MAAhBtR,KAAKU,SAAoC,MAAjBV,KAAKqQ,SACxB,WAAf,uDAGa,MAETxN,MA/FJ,WAgGM,OACN,8BACA,iBACA,4BACA,wCACA,kBACA,6BACA,yCACA,IAGI0O,IA3GJ,WA4GM,OACN,UACA,QAEA,oBAAQ,OAAR,mDACA,SAGI3B,KApHJ,WAqHM,OAAO5P,KAAKqR,OAClB,oBAAQ,OAAR,sBACA,iBAAQ,OAAR,iCACA,GADA,IAEUtQ,MACV,+BACA,QADA,aACA,YADA,KAEA,aAEA,iBAAQ,OAAR,iCACA,GADA,IAEUA,MAAO,UAAjB,sBAGIqP,WAnIJ,WAoIM,OAA2B,MAAvBpQ,KAAKwR,gBACPxR,KAAKwO,KAAKxO,KAAKwR,eAAenL,MAEvBrG,KAAKkO,UAAUlO,KAAKwR,eAAenL,OAGrC,MAETmL,eA5IJ,WA4IA,WACM,OAAOxR,KAAKgR,iBAClB,iBAAQ,OAAR,iCACA,GADA,IAEU3K,KAAM,EAAhB,sBACUoL,KAAM,EAAhB,sCAEA,OAEIhM,OArJJ,WAsJM,OAAOzF,KAAKmC,MAEd2N,SAxJJ,WAyJM,OAAO9P,KAAKqR,OAClB,oBAAQ,OAAR,sBACA,iBAAQ,OAAR,iCACA,GADA,IAEUtQ,MAAO,aAAjB,sBAGI2Q,eAhKJ,WAiKM,OAA6B,MAAzB1R,KAAK+P,iBACA,GAGF/P,KAAK+P,iBAAiB1J,MAE/BlE,KAvKJ,WAwKM,GAA0B,sBAAtBnC,KAAK2R,QAAQ5N,KAA8B,CAArD,MACA,sBADA,EACA,KACA,aAEQ,OAAO/D,KAAK2R,QAAQ7B,SAAShK,GAG/B,OAAO9F,KAAK2R,SAEdnL,OAjLJ,WAkLM,IAAN,GACQ,WAAY,sBACZ,QAAS,UAETnI,KAAM2B,KAAKe,MACXK,YAAapB,KAAKoB,aAAe,GAAzC,gCAEQuF,SAAU3G,KAAKiR,YAAY,gBAC3BxK,WAAYzG,KAAKiR,YAAY,YAAcjR,KAAKmC,KAAK0E,GACrDpG,SAAUT,KAAKkR,UACfxQ,QAASV,KAAK4R,WACdhL,UAAW5G,KAAKkB,IAChBA,IAAKlB,KAAKiE,KACV4N,aAAc7R,KAAKiR,YAAY,qBAAuB,IAAIpL,KAAI,SAAtE,UACA,iBACA,wBAEQiM,sBAAuB,CAAC9R,KAAKwR,eAAgBxR,KAAK+R,YAC1D,oBAAU,QAAV,KACA,iBAAU,MAAV,CACYnL,UAAW3I,EAAEoI,KACbnF,IAAKjD,EAAEwT,SAEXrK,gBAAiB,CACf,QAAS,QACTC,IAAK,CACH,QAAS,WACTC,KAAMtH,KAAKmC,KAAKoF,MAAQ,IAAI3D,KAAK,OAGrC6D,iBAAkBzH,KAAKoR,kBACvBY,aAAchS,KAAKqR,OAAOxL,KAAI,SAAtC,UACA,kBACA,kBACA,iBAEQoM,MAAOjS,KAAKgQ,WAGd,OAAOkC,GAET7B,SA3NJ,WA4NM,OAAOrQ,KAAKsD,UAClB,oBAAQ,OAAR,qCACA,iBACQ,OAAR,YACA,mDAGA,UAEA,OAEI6M,iBAvOJ,WAwOM,OAAgC,MAA5BnQ,KAAKwR,eAAenL,KACf,eAAf,+CAGa,MAET0L,WA9OJ,WA8OA,WACM,OAAO/R,KAAKqF,MAClB,oBAAQ,MAAR,oBACA,iBAAQ,OAAR,iCACA,GADA,IAEUgB,KAAM,EAAhB,sBACUoL,KAAM,EAAhB,sCAEA,OAEIjQ,SAAU,CACR9C,IAAK,WACH,OAAOsB,KAAK0B,YAAYkG,QAAQ5H,KAAK2E,cAEvCkD,IAAK,SAAX,cAEQ7H,KAAK8H,WAAU,WACb,EAAV,kCAIIkI,UAnQJ,WAoQM,IAAN,6DAEM,OAAiB,MAAbA,EACKhQ,KAAKmE,QAAQ6L,EAAU3J,KAAMrG,KAAKkB,KAGpC,MAETiR,WA5QJ,WA6QM,OAA0B,MAAtBnS,KAAK6P,cACA,GAIF,kDAAb,0BACA,2BAMInO,YAzRJ,WA0RM,MAAO,CACb,8BACA,kCACA,+BACA,8BACA,iDAGEqG,MAAO,OAAT,OAAS,CAAT,kBACA,cADA,IAEI2J,eAFJ,SAEA,KACUtP,IAAO4F,GACO,MAAZhI,KAAK6F,KACP7F,KAAKoS,2BAIX9B,WATJ,SASA,KACUlO,IAAO4F,IACO,MAAZhI,KAAK6F,MACHzD,EACFpC,KAAK6F,IAAIwM,eAAeC,UAAUC,IAAI,6BAEtCvS,KAAK6F,IACjB,eACA,+CAIQ7F,KAAKiI,YAAY,CACfqI,WAAYlO,IAGE,MAAZpC,KAAK6F,KACP7F,KAAK6F,IAAI2M,mBAIfzC,iBA9BJ,SA8BA,KACM,IAAK,IAAX,MACQ,IAAR,2BAEYjK,GAAO,EACT9F,KAAKiI,YAAY,CACfwK,GAAI3M,IAGN9F,KAAKiI,YAAY,CACfwK,GAAI,SAKZ5C,cA7CJ,SA6CA,KACM,IAAK,IAAX,MACQ,IAAR,uBAEY/J,GAAO,EACT9F,KAAKiI,YAAY,CACfyK,GAAI5M,IAGN9F,KAAKiI,YAAY,CACfyK,GAAI,SAKZ/N,YA5DJ,SA4DA,KACUvC,IAAO4F,IACThI,KAAKiI,YAAY,CACflJ,EAAGqD,IAGM,YAAPA,GACFpC,KAAK6F,KAAO7F,KAAK6F,IAAI2M,mBAI3BL,WAvEJ,SAuEA,KACU/P,IAAO4F,GACO,MAAZhI,KAAK6F,MACe,MAAlB7F,KAAKwQ,WACPxQ,KAAKwQ,UAAUmC,WAAW3S,KAAK6F,KAGjC7F,KAAKwQ,UAAY,EAA3B,eACYc,YAAatR,KAAKsR,cAC9B,oBAKElJ,QAAS,OAAX,OAAW,CAAX,iCACA,gBACA,0BAFA,IAGIC,WAHJ,WAGA,WACMrI,KAAKsI,mBAAmBtI,KAAKuI,OAAOC,OAEpCxI,KAAK8H,WAAU,WACrB,MAAY,EAAZ,MACU,EAAV,qCAEU,EAAV,wBAEQ,EAAR,2BAGIsK,wBAfJ,WAeA,WACgC,MAAtBpS,KAAKuQ,eACPvQ,KAAKuQ,cAAcoC,WAAW3S,KAAK6F,KAGrC7F,KAAKuQ,cAAgB,EAA3B,gBACQqC,cAAe,SAAvB,YACA,wBACY,IAAZ,kCAEA,sCAYY,OAVAnD,EAAGoD,UAAYnW,OAAOoW,QAAQC,EAAQ7M,YAClD,oBAAc,IAAd,6BAAc,QACd,8BAEA,KACA,YAAc,IAAd,oCAAc,MAAd,0BACA,EADA,mCACA,EADA,wBAGA,SAEmBuJ,MAEXkB,MAAO,SAAf,GACU,IAAV,iCACA,UACA,iBAAY,OAAZ,uEACA,OACA,GACA,EACA,iBAAY,MAAZ,iCACA,kBAAY,OAAZ,mBACA,UACA,EACA,OACA,6BACA,OAEU,MAAO,CACLE,MAAZ,EACYD,OAAQ,EACRE,QAAS,EACTC,YAAa,QAGzB,gBAEM/Q,KAAK8H,UAAX,uKAEA,wBAFA,cAEA,EAFA,gBAGA,SAHA,OAGA,EAHA,OAIA,2BAJA,qDAMA,mBANA,4DAUIW,qBAzEJ,WA0E6B,MAAnBzI,KAAK0E,YACP1E,KAAK0E,WAAa,EAA1B,qBACUiE,oBAAoB,EACpBC,aAAa,EACbC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,EACVC,iBAAiB,EACjBC,WAAW,IAGb,EAAR,YACA,qEACA,CACU,YAAV,gKAEA,uBACQ,EAAR,YACA,wEACA,CACU,QAAV,GACU,OAAV,MAEA,wBAEQjJ,KAAKyQ,oBAAoBkC,WAAW3S,KAAK0E,YAG3C1E,KAAKyQ,oBAAsB,EAAjC,qBACQuC,KAAM,WACNrC,MAAO,CACLC,OAAQ,EACRC,MAAO,UACPC,QAAS,EACTC,YAAa,KAEvB,uBAEM/Q,KAAK0E,WAAWwE,UAAUlJ,KAAKyQ,oBAAoBrH,YAAa,CAC9DC,QAAS,CAAC,GAAI,OAGlB4J,qBApHJ,WAoHA,WA+DM,GA9DgB,MAAZjT,KAAK6F,KACP7F,KAAK6F,IAAM,EAAnB,aACUmD,iBAAiB,IAGnBhJ,KAAK6F,IAAIqN,GAAG,UAAWlT,KAAKmT,YAC5BnT,KAAK6F,IAAIqN,GAAG,UAAWlT,KAAKmT,YAE5BnT,KAAK6F,IAAI8C,mBAAmByK,UAAU,IAEtCpT,KAAKqT,OAAS,EAAtB,aACA,uBACA,WAAU,OAAV,6BACA,CACU,SAAV,aAEA,gBAEYrT,KAAKsQ,YACPtQ,KAAK6F,IAAIwM,eAAeC,UAAUC,IAAI,6BAGxC,EAAR,YACA,qEACA,CACU,YAAV,gKAEA,gBACQ,EAAR,YACA,wEACA,CACU,OAAV,MAEA,kBAE8B,MAAlBvS,KAAKwQ,WACPxQ,KAAKwQ,UAAUmC,WAAW3S,KAAK6F,KAGP,MAAtB7F,KAAKuQ,eACPvQ,KAAKuQ,cAAcoC,WAAW3S,KAAK6F,KAGrC7F,KAAKmJ,aAAawJ,WAAW3S,KAAK6F,MAGhC7F,KAAKmS,aACPnS,KAAKwQ,UAAY,EAAzB,6BACUc,YAAatR,KAAKsR,YAClBgC,QAAS,KACnB,iBAGUtT,KAAK0R,gBACP1R,KAAKoS,0BAGPpS,KAAKmJ,aAAe,EAA1B,qDACA,qBADA,IAEQ6J,KAAM,cACd,gBAEyB,MAAfhT,KAAKyN,OAAgB,CAA/B,qBACA,YADA,GACA,EADA,KACA,EADA,KACA,EADA,KAGQzN,KAAK6F,IAAI0N,QAAQ,CAACC,EAAKC,GAAMC,QAE7B1T,KAAK6F,IAAIqD,UAAUlJ,KAAKmJ,aAAaC,cAGzCd,mBA3LJ,SA2LA,GACMtI,KAAK2E,YAAc6D,EAAMzJ,EAET,MAAZyJ,EAAMkK,GACR1S,KAAK6P,cAAgB7P,KAAK4P,KAAKpH,EAAMkK,IAErC1S,KAAK6P,cAAgB7P,KAAKuR,IAGZ,MAAZ/I,EAAMiK,KACRzS,KAAK+P,iBAAmB/P,KAAK8P,SAAStH,EAAMiK,KAG9CzS,KAAKsQ,WAAa,EAAC,EAAM,QAAQ3O,SAAS6G,EAAM8H,aAElD,WA1MJ,WA0MA,qKACA,oBACA,kBACA,EAHA,UAGA,EAHA,YAGA,iBAHA,YAGA,mBAEA,iCALA,0EAUA,mDACA,UADA,IAEA,UAZA,4DAeA,mBAfA,iEC90B8U,I,kCCS1UzG,EAAY,eACd,EACA/J,EACA+D,GACA,EACA,KACA,WACA,MAIa,OAAAgG,E,8BCpBf7L,EAAOD,QAAU,CAChB4V,iBAAiB,EACjB5E,WAAY,a,ygBCME,SAAS6E,IAGtB,IAAMC,EAAiB,CACrB,SAAY,CACV,MAAS,WACT,KAAQ,QAEV,QAAW,CACT,MAAS,UACT,KAAQ,QAEV,QAAW,CACT,MAAS,UACT,KAAQ,QAEV,eAAkB,CAChB,MAAS,aACT,KAAQ,QAEV,aAAgB,CACd,MAAS,WACT,KAAQ,QAEV,QAAW,UACX,SAAY,WACZ,YAAe,cACf,cAAiB,gBACjB,QAAW,UACX,IAAO,yBAGP,SAAY,YAGRC,EAAiB,CACrBC,SAAU,CACRhT,MAAO,WACPmC,MAAO,CACL,qBAAsB,cAG1B8Q,SAAU,CACRjT,MAAO,YACPmC,MAAO,CACL,kBAAmB,aACnB+Q,MAAM,IAGVC,GAAI,CACFnT,MAAO,kBACPmC,MAAO,CACL,WAAY,CACV,MAAS,QACT,MAAQ,GAEV,iBAAkB,CAChB,MAAS,cACT,OAAU,KAIZ,cAAe,WACf,mBAAoB,gBACpB,gBAAiB,aACjB,SAAU,CACR,MAAS,2DACT,OAAU,KAEZ,UAAW,YACX,eAAgB,CACd,MAAS,kBACT,OAAU,KAEZ,aAAc,CACZ,MAAS,cACT,OAAU,KAEZ,iBAAkB,CAChB,MAAS,cACT,OAAU,KAEZ,mBAAoB,CAClB,MAAS,gBACT,OAAU,OAIhBG,MAAO,CACLtC,MAAO,SACPmC,MAAO,CACL,iBAAkB,CAChB,MAAS,aACT,KAAQ,kBAEV,gBAAiB,CACf,MAAS,UACT,KAAQ,iBAEV,oBAAqB,cACrB,aAAc,OACd,cAAe,QACf,gBAAiB,UACjB,kBAAmB,CACjB,MAAS,YACT,KAAQ,mBAIV,aAAc,OACd,eAAgB,SAChB,iBAAkB,CAChB,MAAS,WACT,KAAQ,qBAIdiR,GAAI,CACFpT,MAAO,cACPmC,MAAO,CACL,WAAY,mBACZ,UAAW,OACX,cAAe,SACf,aAAc,CACZG,MAAO,UACP4Q,MAAM,GAER,aAAc,UACd,eAAgB,CACd5Q,MAAO,aACP4Q,MAAM,KAIZG,KAAM,CACJrT,MAAO,aACPmC,MAAO,CACL,YAAa,YACb,YAAa,OACb,gBAAiB,WACjB,gBAAiB,CACfG,MAAO,YACP4Q,MAAM,GAER,YAAa,eACb,gBAAiB,WACjB,aAAc,QACd,iBAAkB,cAGtBI,IAAK,CACHtT,MAAO,MACPmC,MAAO,CACL,sBAAuB,kBACvB,qBAAsB,iBACtB,+BAA+B,mBAC/B,oBAAqB,gBACrB,mBAAoB,eACpB,uBAAwB,mBACxB,yBAA0B,qBAC1B,0BAA2B,sBAC3B,4BAA6B,wBAC7B,kBAAmB,cAC1B,oBAAqB,gBACd,8BAA+B,6BAC/B,4BAA6B,0BAGjCoR,IAAK,CACHvT,MAAO,YACPmC,MAAO,CACL,kBAAmB,cACnB,qBAAsB,0BAG1BqR,IAAK,CACHxT,MAAO,aACPmC,MAAO,CACL,UAAW,MACX,eAAgB,WAChB,mBAAoB,iBAGxBsR,WAAY,CACVzT,MAAO,aACPmC,MAAO,CACLuR,UAAW,CACT,MAAS,YACT,KAAQ,QAEVC,QAAS,CACP,MAAS,UACT,KAAQ,QAEVC,YAAa,CACX,MAAS,cACT,KAAQ,UAId3T,QAAS,CACPD,MAAO,UACPmC,MAAO,CACL,QAAW,UACX,WAAc,eAGlB0R,KAAM,CACJ7T,MAAO,gBACPmC,MAAO,CACL,iBAAkB,CAChB,MAAS,kBACT,OAAU,KAEZ,uBAAwB,CAC7BG,MAAO,kBACPwR,OAAQ,KAEH,eAAgB,CACrBxR,MAAO,kBACPwR,OAAQ,KAEH,mBAAoB,CACzBxR,MAAO,cACPwR,OAAQ,KAEH,qBAAsB,CAC3BxR,MAAO,gBACPwR,OAAQ,OAMPC,IAAK,CACH/T,MAAO,kBACPmC,MAAO,CACL,mBAAoB,CAClB,MAAS,MACT,KAAQ,QAEV,qBAAsB,CACpB,MAAS,QACT,KAAQ,WAMV6R,EAAyB,CAC7BC,GAAI,CACFjU,MAAO,SACPmC,MAAO,CACL,sBAAuB,CACrB,MAAS,oBAEX,eAAgB,CACd,MAAS,aAEX,oBAAqB,CACnB,MAAS,kBAEX,gBAAiB,CACf,MAAS,cAEX,eAAgB,CACd,MAAS,eAEX,cAAe,CACb,MAAS,YAEX,cAAe,CACb,MAAS,YAEX,sBAAuB,CACrB,MAAS,mBACT,OAAU,KAEZ,cAAe,CACb,MAAS,YAEX,eAAgB,CACd,MAAS,YACT,KAAQ,QAEV,sBAAuB,CACrB,MAAS,oBAEX,aAAc,CACZ,MAAS,WAEX,UAAW,CACT,MAAS,QAEX,kBAAmB,CACjB,MAAS,gBAEX,cAAe,CACb,MAAS,YAEX,aAAc,CACZ,MAAS,UACT,KAAQ,QAEV,iBAAkB,CAChB,MAAS,eAEX,gBAAiB,CACf,MAAS,aACT,OAAU,OAIhB+R,MAAO,CACLlU,MAAO,QACPmC,MAAO,CACL,kBAAmB,YACnB,aAAc,aACd,YAAa,cAGjBgS,GAAI,CACFnU,MAAO,gBACPmC,MAAO,CACL,gBAAiB,kBACjB,cAAe,WACf,mBAAoB,kBAGxBiS,QAAS,CACPpU,MAAO,UACPmC,MAAO,CACL,WAAY,UACZ,qBAAsB,aACtB,mBAAoB,WACpB,2BAA4B,mBAC5B,eAAgB,SAGpBkS,IAAK,CACHrU,MAAO,sBACPmC,MAAO,CACL,WAAY,OACZ,cAAe,UACf,mBAAoB,iBAGxBmS,SAAU,CACRtU,MAAO,WACPmC,MAAO,CACL,oBAAqB,WACrB,yBAA0B,gBAC1B,uBAAwB,cACxB,oBAAqB,WACrB,sBAAuB,gBAOvBoS,EAAsB,CAC1BC,OAAQ,GACRrP,WAAY,IAGd,IAAI,IAAIsP,KAAY3B,EAClByB,EAAoBpP,WAAWsP,GAAY3B,EAAe2B,GAG5D,IAAI,IAAIC,KAAW3B,EAEjB,IAAI,IAAI4B,KADRJ,EAAoBC,OAAOE,GAAW3B,EAAe2B,GAAS1U,MAC5C+S,EAAe2B,GAASvS,MACxCoS,EAAoBpP,WAAWwP,GAAU5B,EAAe2B,GAASvS,MAAMwS,GAI3E,IAAI,IAAIC,KAAWZ,EAEjB,IAAI,IAAIa,KADRN,EAAoBC,OAAOI,GAAWZ,EAAuBY,GAAS5U,MACpDgU,EAAuBY,GAASzS,MAChDoS,EAAoBpP,WAAW0P,GAAUb,EAAuBY,GAASzS,MAAM0S,GAInF,OAAON,EC1XT,IAAMA,EAAsB1B,IACtBiC,EAAcP,EAAoBpP,WAClC4P,EAAWR,EAAoBC,OAE/BQ,EAAc,CAClBlP,GAAI,KACJxI,KAAM,OACN2X,YAAa,cACbC,IAAK,mDACLC,SAAU,eACVC,kBAAmB,yBACnBC,oBAAqB,4DACrBhV,YAAa,eAGTiV,EAAkB,IAAIC,YAAO,CACjCC,OAAO,IAEHC,EAAkB,IAAIC,kBAAa,CACvCC,MAAM,EACNC,UAAW,WAGE,QACbC,SADa,WAEX,MAAO,CACLC,KAAM,CACJ,CACExY,KAAM,2BACNyY,QAASlI,oDAAYmI,2BAEvBzR,QAAO,gBAAGwR,EAAH,EAAGA,QAAH,OAA4B,MAAXA,KAC1BE,OAAQ,CACN,CAAEzL,KAAMvL,KAAKwG,OAAQzC,KAAM,uBAC3B,CACEwH,KAAM,CACJtH,KAAMjE,KAAKiE,MAEb5D,MAAO,QACP0D,KAAM,qBAGVkT,+BAAgC,CAAC,UACjClW,MAAOf,KAAKe,MACZmW,cAAe,uBAGnBjS,SAAU,iCACLkS,eAAW,CAAC,eADT,IAENC,sBAFQ,WAGN,OAAQpX,KAAKoQ,YAAcpQ,KAAKoQ,WAAWlK,YAAe,IAE5DyL,QALQ,WAMN,IAAMlM,EAASzF,KAAKkO,UAAUlO,KAAKkB,KAEnC,KAAIuE,aAAkBiJ,OAKtB,OAAOjJ,EAJLzF,KAAKqX,QAAQlI,QAAQ,MAMzB+B,UAfQ,WAiBN,MAAO,GAAG1D,OACRxN,KAAKyF,OAAOhF,UACTT,KAAKsX,aAAetX,KAAKsX,YAAY7W,UACtC,KAGNwQ,YAvBQ,WAwBN,OAAOjR,KAAKyF,OAAOS,YAAc,IAEnCiL,WA1BQ,WA2BN,OACEnR,KAAKyF,OAAOnC,WACXtD,KAAKsX,aAAetX,KAAKsX,YAAYhU,WACtC,IAGJR,WAjCQ,WAkCN,IAAMyU,EAAUvX,KAAK6C,MAAM,GAE3B,OAAe,MAAX0U,EACK7a,OAAO8a,KAAKD,GAAS1R,KAAI,SAAA4R,GAAC,MAAK,CACpCrY,IAAKqY,EACLpU,MAAO0S,EAAY0B,OAIhB,IAETjX,YA7CQ,WA6CM,WAENkX,EAAQ1X,KAAK8D,UAAUjE,MAAM,GAAGgG,IAAI7F,KAAKqE,SAE/C,OAAOrE,KAAK8D,UAAU+B,KAAI,SAAC6F,EAAK5F,GAC9B,IAAIL,EAAS,EAAKyI,UAAUxC,GAE5B,GAAoB,sBAAhBjG,EAAO1B,KAA8B,OACtB7C,IAAI0K,MAAMF,GAAnBQ,EAD+B,EAC/BA,KACFpG,EAAMoG,EAAKrM,MAAM,GAEvB4F,EAASA,EAAOqK,SAAShK,GAI3B,IAAI1D,EAAK,IAAMsV,EAAM7X,MAAM,EAAGiG,GAAKlC,KAAK,KAExC,OAAc,MAAV6B,EACK,CACLrD,KACA8E,KAAMzB,EAAO1E,OAAS0E,EAAOoB,GAC7B3F,IAAKwK,GAIF,CACLtJ,KACAlB,IAAKwK,OAIXtK,YA5EQ,WA6EN,OACEpB,KAAKkF,cACLsR,EAAgB1W,OAAOuW,EAAgBzK,MAAM5L,KAAKkF,gBAGtDO,OAlFQ,WAmFN,OAAOzF,KAAK2R,SAEd9K,GArFQ,WAuFN,OAAO7G,KAAKyF,OAAOoB,IAErBpG,SAzFQ,WA0FN,OAAOT,KAAKkR,UAAUtN,KAAK,OAE7BlD,QA5FQ,WA6FN,OAAqB,MAAjBV,KAAKuF,UAAqBoS,EAAehW,SAAS3B,KAAKuF,UAQpDqS,IAAW5X,KAAKuF,WAAavF,KAAKuF,SAPhB,MAAnBvF,KAAK4R,WACP,mBAAmB5R,KAAK4R,WAAxB,aAAuC5R,KAAKuF,SAA5C,QAGKvF,KAAKuF,UAKhBqM,WAvGQ,WAwGN,OAAK+F,EAAehW,SAAS3B,KAAKuF,UAYlC,oCAAoCvF,KAAKuF,SAAzC,SAXSvF,KAAKqF,MACTmI,QACGxN,KAAKoQ,YAAcpQ,KAAKoQ,WAAW/K,OAAU,IAAImI,OAChDxN,KAAKsX,aAAetX,KAAKsX,YAAYjS,OAAU,KAGnDC,QAAO,SAAAuS,GAAC,MAAc,YAAVA,EAAEC,OACdjS,KAAI,SAAAgS,GAAC,OAAIA,EAAExR,QACXqH,OAKPrI,MAtHQ,WAuHN,MAAiC,WAA7B,eAAOrF,KAAKyF,OAAOJ,OAEd3I,OAAOqb,OAAO/X,KAAKyF,OAAOJ,OAG5BrF,KAAKyF,OAAOJ,OAAS,IAE9B/E,OA9HQ,WA+HN,OAAsB,MAAfN,KAAKyF,QAEduS,aAjIQ,WAkIN,IAAM/D,EAAO,SAAA7U,GAAG,OAAIyW,EAAYzW,IAAQyW,EAAYzW,GAAK6U,MAEnD5Q,EAAQ,SAAAjE,GACZ,MAAgC,WAA5B,eAAOyW,EAAYzW,IACdyW,EAAYzW,GAAKiE,MAGnBwS,EAAYzW,IAAQA,GAGvB6Y,EAAS,SAAC7Y,EAAKN,GACnB,IAAI+V,EAAS,GAEb,GAAgC,WAA5B,eAAOgB,EAAYzW,IAAmB,CAKxC,GAJ+B,MAA3ByW,EAAYzW,GAAKyV,SACnBA,EAASgB,EAAYzW,GAAKyV,QAGE,SAA1BgB,EAAYzW,GAAK2E,KACnB,OAAOmU,IACL,IAAIC,KAAKrZ,GAAOsZ,eAAe,GAAI,CACjCC,SAAU,MACVC,aAAc,UACXzD,GAIT,GAA8B,mBAA1BgB,EAAYzW,GAAK2E,KAA2B,CAC9C,GAAa,MAATjF,EACF,OAGF,OAAOA,EAAM+G,KAAI,SAAAgS,GAAC,sBAAaA,EAAb,cAAyBjU,KAAK,MAGlD,GAA8B,kBAA1BiS,EAAYzW,GAAK2E,KACnB,OAAIN,MAAMC,QAAQ5E,GACTA,EACJ+G,KAAI,SAAAtH,GAAC,OACJ7B,OAAOoW,QAAQvU,GACZsH,KAAI,YAAY,0BAAV4R,EAAU,KAAPc,EAAO,KACf,GAAU,SAANd,EAAc,CAChB,GAAU,WAANc,EACF,OAGF,yBAAmBA,EAAnB,gBAGF,OAAI9U,MAAMC,QAAQ6U,GACTA,EAAE1S,KAAI,SAAAgS,GAAC,sBAAaA,EAAb,cAAyBjU,KAAK,MAGvC2U,KAER3U,KAAK,QAETA,KAAK,UAGHlH,OAAOoW,QAAQhU,GACnB+G,KAAI,YAAY,0BAAV4R,EAAU,KAAPc,EAAO,KACf,GAAU,SAANd,EAAc,CAChB,GAAU,WAANc,EACF,OAGF,yBAAmBA,EAAnB,gBAGF,OAAI9U,MAAMC,QAAQ6U,GACTA,EAAE1S,KAAI,SAAAgS,GAAC,sBAAaA,EAAb,cAAyBjU,KAAK,MAGvC2U,KAER3U,KAAK,KAGV,GAA8B,oBAA1BiS,EAAYzW,GAAK2E,KACnB,OAAOjF,EACJ+G,KAAI,SAAA0S,GACH,IAAMnV,EAAOmV,EAAEC,aAEf,OAAgB,MAAZD,EAAEE,OACJ,mBAAmBrV,EAAnB,wBAAuCmV,EAAEE,OACtC5S,KAAI,SAAA1H,GAAC,sBAAaA,EAAEE,KAAf,oBAA+BF,EAAEua,MAAjC,QACL9U,KAAK,OAGU,MAAhB2U,EAAEI,WACJ,mBAAmBvV,EAAnB,wBAAuCmV,EAAEI,WACtC9S,KAAI,SAAA1H,GAAC,sBAAaA,EAAEE,KAAf,oBAA+BF,EAAEua,MAAjC,QACL9U,KAAK,OAGH,MAERA,KAAK,UAIZ,MAAY,YAARxE,EACF,kCAAkCN,EAAlC,aAA4CA,EAA5C,QAGE2E,MAAMC,QAAQ5E,GACToZ,IAAOpZ,EAAM+G,KAAI,SAAA0S,GACtB,MAAiB,WAAd,eAAOA,GACD5L,KAAKiM,UAAUL,GAEjBA,MAIU,WAAjB,eAAOzZ,GACFoZ,IAAOvL,KAAKiM,UAAU9Z,IAGxBoZ,IAAOpZ,EAAQ+V,IAGlB3R,EAAQ,iCACTlD,KAAKoX,uBACLpX,KAAKiR,aAGV,OAAOvU,OAAOoW,QAAQ5P,GACnBoC,QAAO,sCAAIiT,EAAJ,YAAW3O,OAAOiP,SAASN,KAAOO,IAAQP,MACjDjT,QAAO,sCAAEmS,EAAF,YAAUxD,EAAKwD,MACtBsB,MAAK,wCAAEzP,EAAF,2BAAOC,EAAP,YAAcD,EAAIC,KACvB1D,KAAI,sCAAEzG,EAAF,KAAON,EAAP,WAAmB,CACtBM,MACAiE,MAAOA,EAAMjE,GACbN,MAAOmZ,EAAO7Y,EAAKN,OAEpBka,QAAO,SAACC,EAAK7V,GACZ,IAAID,EAAM,GACV,GAAIC,EAAKhE,IAAIuC,SAAS,KAAM,CAC1B,IAAMuX,EAAS9V,EAAKhE,IAAI4M,MAAM,KAAK,GACnC7I,EAAM2S,EAASoD,IAAWA,EAM5B,OAHAD,EAAI9V,GAAO8V,EAAI9V,IAAQ,GACvB8V,EAAI9V,GAAKpG,KAAKqG,GAEP6V,IACN,KAEP3V,UAvRQ,WAwRN,OAAOtD,KAAKmR,WAAWtL,KAAI,SAAAgS,GAAC,wCACvBA,GADuB,IAE1BzW,YAAaoV,EAAgB1W,OAC3BuW,EAAgBzK,MAAMiM,EAAEzW,aAAe,WAI7CkW,YA/RQ,WAgSN,IAAM6B,EAAWnZ,KAAKqF,MAAMO,MAAK,SAAAiS,GAAC,MAAc,SAAVA,EAAEC,OAExC,OAAgB,MAAZqB,EACKnZ,KAAKkO,UAAUlO,KAAKmE,QAAQgV,EAAS9S,KAAMrG,KAAKkB,MAGlDlB,KAAKkO,UAAUlO,KAAK8D,UAAU,KAEvC/C,MAxSQ,WAySN,OAAmB,MAAff,KAAKwF,OACP,UAAUxF,KAAKwF,OAAf,aAA0BxF,KAAK6G,GAA/B,KAGK7G,KAAK6G,MAGhBkB,MAAO,CACLQ,OADK,SACEnG,EAAI4F,GACJoR,IAAQhX,EAAGoG,MAAOR,EAAKQ,QAC1BxI,KAAKsI,mBAAmBlG,EAAGoG,QAG/B/C,OANK,SAMErD,EAAI4F,GACJoR,IAAQhX,EAAI4F,KACfhI,KAAKqZ,UAAUjX,GAEfpC,KAAKqI,gBAIXiR,QAtVa,WAuVXtZ,KAAKqI,aAELrI,KAAKqZ,UAAUrZ,KAAKyF,SAEtB2C,QAAS,CACPiR,UADO,SACGpd,GAAM,WACd+D,KAAKsE,SAASrI,GAAMsd,MAAK,SAAAxM,GACT,MAAVA,IACFnC,QAAQ4O,IAAIzM,GACZnC,QAAQ6O,MAAM,qBACd1M,EAAO2M,SAAQ,SAAA/O,GACbC,QAAQC,KAAR,UAAgBF,EAAIgP,SAApB,YAAgChP,EAAIa,QAApC,MADoB,MAEFoO,IAAUjP,EAAIgP,SAAU,CACxC1d,SADM6C,EAFY,EAEZA,MAGR8L,QAAQC,KAAKgP,IAAM/a,OAErB8L,QAAQkP,YAGV,EAAKlV,iBAAmBmI,MAGtB9E,YAnBC,SAmBW8R,GAAS,mKACnBpQ,EADmB,iCAEpB,EAAKpB,OAAOC,OACZuR,GAICvR,EAAQ9L,OAAO8a,KAAK7N,GACvBrE,QAAO,SAAAuS,GAAC,OAAa,MAATlO,EAAGkO,KAAwB,IAAVlO,EAAGkO,MAChCmB,QAAO,SAACC,EAAKxB,GAGZ,OAFAwB,EAAIxB,GAAK9N,EAAG8N,GAAGjO,WAERyP,IACN,KAEDG,IAAQ,EAAK7Q,OAAOC,MAAOA,GAfN,0EAqBjB,EAAK6O,QAAQlI,QAAb,iCACD,EAAK5G,QADJ,IAEJC,WAvBqB,0DA0BvBoC,QAAQC,KAAR,MA1BuB,+D,kCCnZ/B,yBAA2c,EAAG,G,kCCA9c,yBAAse,EAAG,G,kPCEnemP,EACJpL,oDAAYoL,eAEP,SAAe5O,EAAtB,kC,8DAAO,WAAwBM,GAAxB,8FAGCuO,EAAeD,EACnBtO,EAAIyD,QAAQ6K,EAAehO,MAAM,KAAK,GAAIgO,EAAehO,MAAM,KAAK,IAClEN,EALC,kBAMEwO,MAAMD,IANR,2C,wBASP,IAAME,EAAsB,SAASC,EAAS1O,GAC5C,OAAGA,EAAI/J,SAAS,OAAiB+J,EAE9BA,EAAI/J,SAAS,KAEd,UAAUyY,EAAV,YAAqB1O,GAIvB,UAAU0O,EAAV,kCAA2C1O,IAGvC2O,EAAc,SAASC,EAAQC,GAUnC,OAPAD,EAAOE,IAAMD,EAAY,IAGtB,OAAQD,UACFA,EAAOzT,GAGTyT,GAGF,SAAezN,EAAtB,oC,8DAAO,WAAoC4N,EAAgB1X,GAApD,wGAGDqX,EAA0B,iBAAhBrX,EAAA,mIAGiDA,GAG3D2X,EAAc,UAAGN,EAAH,YAAcK,EAAd,gCACeA,EADf,SATb,SAYarP,EAASsP,GAZtB,UAYCrP,EAZD,OAaAA,EAAIC,GAbJ,sBAcG,IAAIoD,MAAJ,yBAA4BrD,EAAIsP,aAdnC,mBAiBUN,EAjBV,UAiB4BhP,EAAIE,OAjBhC,gCAiBwCmP,EAAvCJ,GAjBD,mBAmBCM,EAnBD,yDAmBc,WAAelP,GAAf,8FACbmP,EAAaV,EAAoBC,EAAS1O,IAI3CmP,EAAWlZ,SAAS,2BALN,yCAMR,IANQ,uBASCyJ,EAASyP,GATV,UASXxP,EATW,OAWZA,EAAIC,GAXQ,sBAYT,IAAIoD,MAAJ,yBAA4BrD,EAAIsP,aAZvB,mBAeEN,EAfF,UAeoBhP,EAAIE,OAfxB,gCAegCsP,EAA7CC,GAfa,qCAiBVA,GAjBU,4CAnBd,sDAuCCC,EAAM,IAAIC,IAAI,CAClBJ,eAxCG,kBA4CEG,EAAIE,aAAaX,IA5CnB,4C","file":"js/app.94d2c79b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/browse/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=1&id=5b1e336f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=1&id=5b1e336f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{class:_vm.loaded && 'loaded'},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('header',[_c('b-breadcrumb',{attrs:{\"items\":_vm.breadcrumbs}})],1)])],1),_c('b-row',[_c('b-col',{attrs:{\"md\":_vm.keywords.length > 0 || _vm.license != null || _vm.spatialExtent != null\n            ? 8\n            : 12}},[_c('h1',{staticClass:\"scroll\"},[_vm._v(_vm._s(_vm.title))]),(_vm.version)?_c('p',[_c('small',[_vm._v(\"Version \"+_vm._s(_vm.version))])]):_vm._e(),_c('p',{staticClass:\"scroll\"},[_c('small',[(_vm.validationErrors)?_c('span',{attrs:{\"title\":\"Validation errors present; please check the JavaScript Console\"}},[_vm._v(\"⚠️\")]):_vm._e(),_c('code',[_vm._v(_vm._s(_vm.url))])])]),(_vm.description)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.description)}}):_vm._e(),_c('b-tabs',{model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[(_vm.visibleTabs.includes('catalogs'))?_c('b-tab',{key:\"catalogs\",attrs:{\"title\":\"Catalogs\"}},[_c('b-table',{attrs:{\"items\":_vm.children,\"fields\":_vm.childFields,\"per-page\":_vm.childrenPerPage,\"current-page\":_vm.currentChildPage,\"outlined\":true,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"},scopedSlots:_vm._u([{key:\"cell(link)\",fn:function(data){return [_c('router-link',{attrs:{\"to\":data.item.to}},[_vm._v(_vm._s(data.item.title))])]}}],null,false,1106412790)}),(_vm.childCount > _vm.childrenPerPage)?_c('b-pagination',{attrs:{\"limit\":15,\"total-rows\":_vm.childCount,\"per-page\":_vm.childrenPerPage,\"hide-goto-end-buttons\":true},model:{value:(_vm.currentChildPage),callback:function ($$v) {_vm.currentChildPage=$$v},expression:\"currentChildPage\"}}):_vm._e()],1):_vm._e(),(_vm.visibleTabs.includes('items'))?_c('b-tab',{key:\"items\",attrs:{\"title\":\"Items\"}},[_c('b-table',{attrs:{\"items\":_vm.items,\"fields\":_vm.itemFields,\"per-page\":_vm.itemsPerPage,\"current-page\":_vm.currentItemListPage,\"sort-compare\":_vm.sortCompare,\"outlined\":true,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"},scopedSlots:_vm._u([{key:\"cell(link)\",fn:function(data){return [_c('router-link',{attrs:{\"to\":data.item.to}},[_vm._v(_vm._s(data.item.title))])]}}],null,false,1106412790)}),(_vm.itemCount > _vm.itemsPerPage)?_c('b-pagination',{attrs:{\"limit\":15,\"total-rows\":_vm.itemCount,\"per-page\":_vm.itemsPerPage,\"hide-goto-end-buttons\":true},model:{value:(_vm.currentItemPage),callback:function ($$v) {_vm.currentItemPage=$$v},expression:\"currentItemPage\"}}):_vm._e()],1):_vm._e(),(_vm.visibleTabs.includes('bands'))?_c('b-tab',{key:\"bands\",attrs:{\"title\":\"Bands\"}},[_c('b-table',{attrs:{\"items\":_vm.bands,\"fields\":_vm.bandFields,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"}})],1):_vm._e()],1)],1),(_vm.keywords.length > 0 || _vm.license != null || _vm.spatialExtent != null)?_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-card',{attrs:{\"bg-variant\":\"light\"}},[(_vm.spatialExtent)?_c('div',{attrs:{\"id\":\"locator-map\"}}):_vm._e(),_c('div',{staticClass:\"table-responsive metadata\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',{staticClass:\"group\",attrs:{\"colspan\":\"2\"}},[_c('h4',[_vm._v(\"Metadata\")])])]),_c('tr',[_c('td',{staticClass:\"title\"},[_vm._v(\"STAC Version\")]),_c('td',[_vm._v(_vm._s(_vm.stacVersion))])]),(_vm.keywords)?_c('tr',[_c('td',{staticClass:\"title\"},[_vm._v(\"Keywords\")]),_c('td',[_vm._v(_vm._s(_vm.keywords))])]):_vm._e(),(_vm.license)?_c('tr',[_c('td',{staticClass:\"title\"},[_vm._v(\"License\")]),_c('td',{domProps:{\"innerHTML\":_vm._s(_vm.license)}})]):_vm._e(),(_vm.temporalExtent)?_c('tr',[_c('td',{staticClass:\"title\"},[_vm._v(\"Temporal Extent\")]),_c('td',[_vm._v(_vm._s(_vm.temporalExtent))])]):_vm._e(),_vm._l((_vm.propertyList),function(props,ext){return [(ext)?_c('tr',{key:ext},[_c('td',{staticClass:\"group\",attrs:{\"colspan\":\"2\"}},[_c('h4',[_vm._v(_vm._s(ext))])])]):_vm._e(),_vm._l((props),function(prop){return _c('tr',{key:prop.key},[_c('td',{staticClass:\"title\"},[_c('span',{attrs:{\"title\":prop.key},domProps:{\"innerHTML\":_vm._s(prop.label)}})]),_c('td',{domProps:{\"innerHTML\":_vm._s(prop.value)}})])})]}),(_vm.providers)?[_c('tr',[_c('td',{staticClass:\"group\",attrs:{\"colspan\":\"2\"}},[_c('h4',[(_vm.providers.length === 1)?[_vm._v(\" Provider \")]:_vm._e(),(_vm.providers.length !== 1)?[_vm._v(\" Providers \")]:_vm._e()],2)])]),_vm._l((_vm.providers),function(provider,index){return [_c('tr',{key:provider.url + index},[_c('td',{staticClass:\"provider\",attrs:{\"colspan\":\"2\"}},[_c('a',{attrs:{\"href\":provider.url}},[_vm._v(_vm._s(provider.name))]),(provider.roles)?_c('em',[_vm._v(\"(\"+_vm._s((Array.isArray(provider.roles) ? provider.roles : []).join(\", \"))+\")\")]):_vm._e(),(provider.description)?_c('div',{staticClass:\"description\",domProps:{\"innerHTML\":_vm._s(provider.description)}}):_vm._e()])])]})]:_vm._e()],2)])])])],1):_vm._e()],1)],1),_c('footer',{staticClass:\"footer\"},[_c('b-container',[_c('span',{staticClass:\"poweredby text-muted\"},[_vm._v(\" Powered by \"),_c('a',{attrs:{\"href\":\"https://github.com/radiantearth/stac-browser\"}},[_vm._v(\"STAC Browser\")])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-container :class=\"loaded && 'loaded'\">\r\n      <b-row>\r\n        <b-col md=\"12\">\r\n          <header>\r\n            <b-breadcrumb :items=\"breadcrumbs\" />\r\n          </header>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col\r\n          :md=\"\r\n            keywords.length > 0 || license != null || spatialExtent != null\r\n              ? 8\r\n              : 12\r\n          \"\r\n        >\r\n          <h1 class=\"scroll\">{{ title }}</h1>\r\n          <p v-if=\"version\">\r\n            <small>Version {{ version }}</small>\r\n          </p>\r\n          <p class=\"scroll\">\r\n            <small>\r\n              <!-- <b-button\r\n                v-clipboard=\"url\"\r\n                variant=\"link\"\r\n                size=\"sm\"\r\n                class=\"clipboard\"\r\n              > -->\r\n              <span\r\n                v-if=\"validationErrors\"\r\n                title=\"Validation errors present; please check the JavaScript Console\"\r\n                >⚠️</span\r\n              >\r\n              <!-- <i class=\"far fa-copy\" />&nbsp; -->\r\n              <code>{{ url }}</code>\r\n              <!-- </b-button> -->\r\n            </small>\r\n          </p>\r\n          <!-- eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line -->\r\n          <div v-if=\"description\" v-html=\"description\" />\r\n\r\n          <b-tabs v-model=\"tabIndex\">\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('catalogs')\"\r\n              key=\"catalogs\"\r\n              title=\"Catalogs\"\r\n            >\r\n              <b-table\r\n                :items=\"children\"\r\n                :fields=\"childFields\"\r\n                :per-page=\"childrenPerPage\"\r\n                :current-page=\"currentChildPage\"\r\n                :outlined=\"true\"\r\n                responsive\r\n                small\r\n                striped\r\n              >\r\n                <template slot=\"cell(link)\" slot-scope=\"data\">\r\n                  <router-link :to=\"data.item.to\">{{\r\n                    data.item.title\r\n                  }}</router-link>\r\n                </template>\r\n              </b-table>\r\n              <b-pagination\r\n                v-if=\"childCount > childrenPerPage\"\r\n                v-model=\"currentChildPage\"\r\n                :limit=\"15\"\r\n                :total-rows=\"childCount\"\r\n                :per-page=\"childrenPerPage\"\r\n                :hide-goto-end-buttons=\"true\"\r\n              />\r\n            </b-tab>\r\n\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('items')\"\r\n              key=\"items\"\r\n              title=\"Items\"\r\n            >\r\n              <b-table\r\n                :items=\"items\"\r\n                :fields=\"itemFields\"\r\n                :per-page=\"itemsPerPage\"\r\n                :current-page=\"currentItemListPage\"\r\n                :sort-compare=\"sortCompare\"\r\n                :outlined=\"true\"\r\n                responsive\r\n                small\r\n                striped\r\n              >\r\n                <template slot=\"cell(link)\" slot-scope=\"data\">\r\n                  <router-link :to=\"data.item.to\">{{\r\n                    data.item.title\r\n                  }}</router-link>\r\n                </template>\r\n                <!-- TODO row-details w/ additional metadata + map -->\r\n              </b-table>\r\n              <b-pagination\r\n                v-if=\"itemCount > itemsPerPage\"\r\n                v-model=\"currentItemPage\"\r\n                :limit=\"15\"\r\n                :total-rows=\"itemCount\"\r\n                :per-page=\"itemsPerPage\"\r\n                :hide-goto-end-buttons=\"true\"\r\n              />\r\n            </b-tab>\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('bands')\"\r\n              key=\"bands\"\r\n              title=\"Bands\"\r\n            >\r\n              <b-table\r\n                :items=\"bands\"\r\n                :fields=\"bandFields\"\r\n                responsive\r\n                small\r\n                striped\r\n              />\r\n            </b-tab>\r\n          </b-tabs>\r\n        </b-col>\r\n        <b-col\r\n          v-if=\"keywords.length > 0 || license != null || spatialExtent != null\"\r\n          md=\"4\"\r\n        >\r\n          <b-card bg-variant=\"light\">\r\n            <div v-if=\"spatialExtent\" id=\"locator-map\" />\r\n            <div class=\"table-responsive metadata\">\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td class=\"group\" colspan=\"2\">\r\n                      <h4>Metadata</h4>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"title\">STAC Version</td>\r\n                    <td>{{ stacVersion }}</td>\r\n                  </tr>\r\n                  <tr v-if=\"keywords\">\r\n                    <td class=\"title\">Keywords</td>\r\n                    <td>{{ keywords }}</td>\r\n                  </tr>\r\n                  <tr v-if=\"license\">\r\n                    <td class=\"title\">License</td>\r\n                    <!-- eslint-disable-next-line vue/no-v-html -->\r\n                    <td v-html=\"license\" />\r\n                  </tr>\r\n                  <tr v-if=\"temporalExtent\">\r\n                    <td class=\"title\">Temporal Extent</td>\r\n                    <td>{{ temporalExtent }}</td>\r\n                  </tr>\r\n                  <template v-for=\"(props, ext) in propertyList\">\r\n                    <tr v-if=\"ext\" :key=\"ext\">\r\n                      <td class=\"group\" colspan=\"2\">\r\n                        <h4>{{ ext }}</h4>\r\n                      </td>\r\n                    </tr>\r\n                    <tr v-for=\"prop in props\" :key=\"prop.key\">\r\n                      <td class=\"title\">\r\n                        <!-- eslint-disable-next-line vue/no-v-html -->\r\n                        <span :title=\"prop.key\" v-html=\"prop.label\" />\r\n                      </td>\r\n                      <!-- eslint-disable-next-line vue/no-v-html -->\r\n                      <td v-html=\"prop.value\" />\r\n                    </tr>\r\n                  </template>\r\n                  <template v-if=\"providers\">\r\n                    <tr>\r\n                      <td colspan=\"2\" class=\"group\">\r\n                        <h4>\r\n                          <template v-if=\"providers.length === 1\">\r\n                            Provider\r\n                          </template>\r\n                          <template v-if=\"providers.length !== 1\">\r\n                            Providers\r\n                          </template>\r\n                        </h4>\r\n                      </td>\r\n                    </tr>\r\n                    <template v-for=\"(provider, index) in providers\">\r\n                      <tr :key=\"provider.url + index\">\r\n                        <td colspan=\"2\" class=\"provider\">\r\n                          <a :href=\"provider.url\">{{ provider.name }}</a>\r\n                          <em v-if=\"provider.roles\"\r\n                          >({{(Array.isArray(provider.roles) ? provider.roles : []).join(\", \") }})</em\r\n                          >\r\n                          <!-- eslint-disable-next-line vue/no-v-html vue/max-attributes-per-line -->\r\n                          <div\r\n                            v-if=\"provider.description\"\r\n                            class=\"description\"\r\n                            v-html=\"provider.description\"\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    </template>\r\n                  </template>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n    <footer class=\"footer\">\r\n      <b-container>\r\n        <span class=\"poweredby text-muted\">\r\n          Powered by\r\n          <a href=\"https://github.com/radiantearth/stac-browser\"\r\n            >STAC Browser</a\r\n          >\r\n        </span>\r\n      </b-container>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Leaflet from \"leaflet\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nimport common from \"./common\";\r\n\r\nconst ITEMS_PER_PAGE = 25;\r\n\r\nexport default {\r\n  ...common,\r\n  name: \"Catalog\",\r\n  props: {\r\n    ancestors: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    path: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    resolve: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    slugify: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    url: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    validate: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      externalItemCount: 0,\r\n      externalItemsPerPage: 0,\r\n      externalItemPaging: false,\r\n      childFields: [\r\n        {\r\n          key: \"link\",\r\n          label: \"Title\",\r\n          sortable: true\r\n        }\r\n      ],\r\n      currentChildPage: 1,\r\n      childrenPerPage: 25,\r\n      itemFields: [\r\n        {\r\n          key: \"link\",\r\n          label: \"Title\",\r\n          sortable: true\r\n        },\r\n        {\r\n          key: \"dateAcquired\",\r\n          label: \"Date Acquired\",\r\n          sortable: true,\r\n          formatter: function(isoDate) {\r\n            if (isoDate != null) {\r\n              const date = new Date(isoDate);\r\n              return !isNaN(date.getTime()) ? date.toUTCString() : \"\";\r\n            }\r\n\r\n            return \"\";\r\n          }\r\n        }\r\n      ],\r\n      currentItemPage: 1,\r\n      currentItemListPage: 1,\r\n      locatorMap: null,\r\n      selectedTab: null,\r\n      validationErrors: null\r\n    };\r\n  },\r\n  asyncComputed: {\r\n    externalItems: {\r\n      default: [],\r\n      lazy: true,\r\n      async get() {\r\n        const externalItemsLink = this.links.find(x => x.rel === \"items\");\r\n\r\n        if (externalItemsLink == null) {\r\n          return [];\r\n        }\r\n\r\n        try {\r\n          const rsp = await fetch(\r\n            `${externalItemsLink.href}?page=${this.currentItemPage}`\r\n          );\r\n\r\n          if (!rsp.ok) {\r\n            console.warn(await rsp.text());\r\n            return [];\r\n          }\r\n\r\n          const items = await rsp.json();\r\n\r\n          // STAC-API Context extension.\r\n          // Account for the old search:metadata extension.\r\n          const context = !!items.context ? (\r\n              items.context\r\n          ) : items[\"search:metadata\"];\r\n\r\n          if (context != null) {\r\n            this.externalItemCount = context.matched;\r\n            this.externalItemsPerPage = context.limit;\r\n            this.externalItemPaging = true;\r\n          } else {\r\n            this.externalItemCount = items.features.length;\r\n          }\r\n\r\n          // strip /collection from the target path\r\n          let p = this.path.replace(/^\\/collection/, \"\");\r\n\r\n          return items.features.map((item, idx) => ({\r\n            item,\r\n            to: `/item${p}/${this.slugify(\r\n              `${externalItemsLink.href}?page=${this.currentItemPage}#${idx}`\r\n            )}`,\r\n            title: item.properties.title || item.id,\r\n            dateAcquired: item.properties.datetime\r\n          }));\r\n        } catch (err) {\r\n          console.warn(err);\r\n\r\n          return [];\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...common.computed,\r\n    ...mapGetters([\"getEntity\"]),\r\n    _description() {\r\n      return this.catalog.description;\r\n    },\r\n    _items() {\r\n      return this.links.filter(x => x.rel === \"item\");\r\n    },\r\n    _license() {\r\n      return (\r\n        this.catalog.license || (this.rootCatalog && this.rootCatalog.license)\r\n      );\r\n    },\r\n    _title() {\r\n      return this.catalog.title;\r\n    },\r\n    bands() {\r\n      return (\r\n        this._properties[\"eo:bands\"] ||\r\n        (this.rootCatalog &&\r\n          this.rootCatalog.properties &&\r\n          this.rootCatalog.properties[\"eo:bands\"]) ||\r\n        []\r\n      );\r\n    },\r\n    catalog() {\r\n      return this.entity;\r\n    },\r\n    childCount() {\r\n      return this.links.filter(x => x.rel === \"child\").length;\r\n    },\r\n    children() {\r\n      return this.links\r\n        .filter(x => x.rel === \"child\")\r\n        .map(child => {\r\n          // strip /collection from the target path\r\n          let p = this.path.replace(/^\\/collection/, \"\");\r\n\r\n          if (!p.endsWith(\"/\")) {\r\n            p += \"/\";\r\n          }\r\n\r\n          const slug = this.slugify(this.resolve(child.href, this.url));\r\n          const to = [p, slug].join(\"\");\r\n\r\n          return {\r\n            path: child.href,\r\n            to,\r\n            // child.id is a workaround for https://earthengine-stac.storage.googleapis.com/catalog/catalog.json\r\n            title: child.title || child.id || child.href,\r\n            url: this.resolve(child.href, this.url)\r\n          };\r\n        });\r\n    },\r\n    extent() {\r\n      return (\r\n        this.catalog.extent ||\r\n        (this.rootCatalog && this.rootCatalog.extent) ||\r\n        {}\r\n      );\r\n    },\r\n    hasExternalItems() {\r\n      return this.links.find(x => x.rel === \"items\") != null;\r\n    },\r\n    itemCount() {\r\n      if (!this.hasExternalItems) {\r\n        return this.links.filter(x => x.rel === \"item\").length;\r\n      }\r\n\r\n      return this.externalItemCount;\r\n    },\r\n    items() {\r\n      const start = (this.currentItemPage - 1) * this.itemsPerPage;\r\n      const end = this.currentItemPage * this.itemsPerPage;\r\n\r\n      if (!this.hasExternalItems) {\r\n        return this._items.map((itemLink, idx) => {\r\n          const itemUrl = this.resolve(itemLink.href, this.url);\r\n\r\n          if (idx >= start && idx < end) {\r\n            // dispatch a fetch if item is within the range of items being displayed\r\n            this.load(itemUrl);\r\n          }\r\n\r\n          // attempt to load the full item\r\n          const item = this.getEntity(itemUrl);\r\n\r\n          if (item != null) {\r\n            return {\r\n              item,\r\n              to: `/item${this.path}/${this.slugify(itemUrl)}`,\r\n              title:\r\n                item.properties.title ||\r\n                item.id ||\r\n                itemLink.title ||\r\n                itemLink.href,\r\n              dateAcquired: item.properties.datetime\r\n            };\r\n          }\r\n\r\n          return {\r\n            to: `/item${this.path}/${this.slugify(itemUrl)}`,\r\n            title: itemLink.title || itemLink.href,\r\n            url: itemUrl\r\n          };\r\n        });\r\n      }\r\n\r\n      return this.externalItems;\r\n    },\r\n    itemsPerPage() {\r\n      if (this.externalItemPaging) {\r\n        return this.externalItemsPerPage;\r\n      }\r\n\r\n      return ITEMS_PER_PAGE;\r\n    },\r\n    jsonLD() {\r\n      const dataCatalog = this.providers.reduce(\r\n        (dc, p) => {\r\n          let roles = Array.isArray(p.roles) ? p.roles : [];\r\n\r\n          return roles.reduce((dc, role) => {\r\n            switch (role) {\r\n              case \"licensor\":\r\n                dc.copyrightHolder = dc.copyrightHolder || [];\r\n                dc.copyrightHolder.push({\r\n                  \"@type\": \"Organization\",\r\n                  description: p.description,\r\n                  name: p.name,\r\n                  url: p.url\r\n                });\r\n                break;\r\n\r\n              case \"producer\":\r\n                dc.producer = dc.producer || [];\r\n                dc.producer.push({\r\n                  \"@type\": \"Organization\",\r\n                  description: p.description,\r\n                  name: p.name,\r\n                  url: p.url\r\n                });\r\n                break;\r\n\r\n              case \"processor\":\r\n                dc.contributor = dc.contributor || [];\r\n                dc.contributor.push({\r\n                  \"@type\": \"Organization\",\r\n                  description: p.description,\r\n                  name: p.name,\r\n                  url: p.url\r\n                });\r\n                break;\r\n\r\n              case \"host\":\r\n                dc.provider = dc.provider || [];\r\n                dc.provider.push({\r\n                  \"@type\": \"Organization\",\r\n                  description: p.description,\r\n                  name: p.name,\r\n                  url: p.url\r\n                });\r\n                break;\r\n            }\r\n\r\n            return dc;\r\n            }, dc)\r\n            },\r\n        {\r\n          \"@context\": \"https://schema.org/\",\r\n          \"@type\": \"DataCatalog\",\r\n          // required\r\n          name: this.title,\r\n          description: this.description,\r\n          // recommended\r\n          citation: this._properties[\"sci:citation\"],\r\n          identifier: this._properties[\"sci:doi\"] || this.catalog.id,\r\n          keywords: this._keywords,\r\n          license: this.licenseUrl,\r\n          isBasedOn: this.url,\r\n          version: this.version,\r\n          url: this.path,\r\n          workExample: (this._properties[\"sci:publications\"] || []).map(p => ({\r\n            identifier: p.doi,\r\n            citation: p.citation\r\n          })),\r\n          hasPart: this.children.map(({ title: name, to, url }) => ({\r\n            \"@type\": \"DataCatalog\",\r\n            name,\r\n            isBasedOn: url,\r\n            url: to\r\n          })),\r\n          dataset: this.items.map(({ item, title: name, to, url }) => ({\r\n            identifier: item ? item.id : undefined,\r\n            name,\r\n            isBasedOn: url,\r\n            url: to\r\n          }))\r\n        }\r\n      );\r\n\r\n      const parent = this.breadcrumbs[this.breadcrumbs.length - 1];\r\n\r\n      if (parent != null) {\r\n        dataCatalog.isPartOf = {\r\n          \"@type\": \"DataCatalog\",\r\n          name: parent.text,\r\n          isBasedOn: parent.url,\r\n          url: parent.to\r\n        };\r\n      }\r\n\r\n      const { spatial, temporal } = this.extent;\r\n\r\n      if (spatial != null) {\r\n        let bbox = !!spatial.bbox ? (\r\n          Array.isArray(spatial.bbox[0]) ? spatial.bbox[0] : spatial.bbox // Account for misformat.\r\n        ) : spatial;\r\n\r\n        dataCatalog.spatialCoverage = {\r\n          \"@type\": \"Place\",\r\n          geo: {\r\n            \"@type\": \"GeoShape\",\r\n            box: bbox.join(\" \")\r\n          }\r\n        };\r\n      }\r\n\r\n      if (temporal != null) {\r\n        let interval = !!temporal.interval ? (\r\n            temporal.interval[0]\r\n        ) : temporal;\r\n\r\n        dataCatalog.temporalCoverage = interval.map(x => x || \"..\").join(\"/\");\r\n      }\r\n\r\n      return dataCatalog;\r\n    },\r\n    spatialExtent() {\r\n      const { spatial } = this.extent;\r\n\r\n      if (spatial == null) {\r\n          return null;\r\n      }\r\n\r\n      // In STAC 0.8, spatial was changed from the direct array to an\r\n      // object with the property 'bbox' containing an array of arrays.\r\n      // As a workaround, use the first element of that array.\r\n      let bbox = !!spatial.bbox ? (\r\n          Array.isArray(spatial.bbox[0]) ? spatial.bbox[0] : spatial.bbox // Account for misformat.\r\n      ) : spatial;\r\n\r\n      return bbox;\r\n    },\r\n    stacVersion() {\r\n      // REQUIRED\r\n      return this.catalog.stac_version;\r\n    },\r\n    tabIndex: {\r\n      get: function() {\r\n        return this.visibleTabs.indexOf(this.selectedTab);\r\n      },\r\n      set: function(tabIndex) {\r\n        // wait for the DOM to update\r\n        this.$nextTick(() => {\r\n          this.selectedTab = this.visibleTabs[tabIndex];\r\n        });\r\n      }\r\n    },\r\n    temporalExtent() {\r\n      const { temporal } = this.extent;\r\n\r\n      if (temporal == null) {\r\n        return null;\r\n      }\r\n\r\n      // In STAC 0.8, temporal was changed from the direct array to an\r\n      // object with the property 'interval' containing an array of arrays.\r\n      // As a worrkaround, use the first element of that array.\r\n      let interval = !!temporal.interval ? (\r\n        temporal.interval[0]\r\n      ) : temporal;\r\n\r\n      return [\r\n        interval[0]\r\n          ? new Date(interval[0]).toLocaleString()\r\n          : \"beginning of time\",\r\n        interval[1] ? new Date(interval[1]).toLocaleString() : \"now\"\r\n      ].join(\" - \");\r\n    },\r\n    version() {\r\n      return this.catalog.version;\r\n    },\r\n    visibleTabs() {\r\n      return [\r\n        this.childCount > 0 && \"catalogs\",\r\n        (this.hasExternalItems || this.itemCount > 0) && \"items\",\r\n        this.bands.length > 0 && \"bands\"\r\n      ].filter(x => x != null && x !== false);\r\n    }\r\n  },\r\n  watch: {\r\n    ...common.watch,\r\n    currentChildPage(to, from) {\r\n      if (to !== from) {\r\n        this.updateState({\r\n          cp: to\r\n        });\r\n      }\r\n    },\r\n    currentItemPage(to, from) {\r\n      if (to !== from) {\r\n        this.updateState({\r\n          ip: to\r\n        });\r\n      }\r\n    },\r\n    selectedTab(to, from) {\r\n      if (to !== from) {\r\n        this.updateState({\r\n          t: to\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...common.methods,\r\n    ...mapActions([\"load\"]),\r\n    initialize() {\r\n      if (this.spatialExtent != null) {\r\n        this.$nextTick(() => this.initializeLocatorMap());\r\n      }\r\n\r\n      this.syncWithQueryState(this.$route.query);\r\n    },\r\n    initializeLocatorMap() {\r\n      if (this.locatorMap != null) {\r\n        this.locatorMap.remove();\r\n      }\r\n\r\n      if (this.spatialExtent == null) {\r\n        // no spatial extent; skip\r\n        return;\r\n      }\r\n\r\n      this.locatorMap = Leaflet.map(\"locator-map\", {\r\n        attributionControl: false,\r\n        zoomControl: false,\r\n        boxZoom: false,\r\n        doubleClickZoom: false,\r\n        dragging: false,\r\n        scrollWheelZoom: false,\r\n        touchZoom: false\r\n      });\r\n\r\n      Leaflet.tileLayer(\r\n        \"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}@2x.png\",\r\n        {\r\n          attribution: `Map data <a href=\"https://www.openstreetmap.org/copyright\">&copy; OpenStreetMap contributors</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\r\n        }\r\n      ).addTo(this.locatorMap);\r\n      Leaflet.tileLayer(\r\n        \"https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}@2x.png\",\r\n        {\r\n          zIndex: 1000\r\n        }\r\n      ).addTo(this.locatorMap);\r\n\r\n      const [minX, minY, maxX, maxY] = this.spatialExtent;\r\n      const coordinates = [\r\n        [[minX, minY], [minX, maxY], [maxX, maxY], [maxX, minY], [minX, minY]]\r\n      ];\r\n\r\n      const overlayLayer = Leaflet.geoJSON(\r\n        {\r\n          type: \"Polygon\",\r\n          coordinates\r\n        },\r\n        {\r\n          pane: \"tilePane\",\r\n          style: {\r\n            weight: 2,\r\n            color: \"#ffd65d\",\r\n            opacity: 1,\r\n            fillOpacity: 0.15\r\n          }\r\n        }\r\n      ).addTo(this.locatorMap);\r\n\r\n      this.locatorMap.fitBounds(overlayLayer.getBounds(), {\r\n        padding: [95, 95]\r\n      });\r\n    },\r\n    sortCompare(a, b, key) {\r\n      if (key === \"link\") {\r\n        key = \"title\";\r\n      }\r\n\r\n      if (a[key] == null) {\r\n        return -1;\r\n      } else if (b[key] == null) {\r\n        return 1;\r\n      } else if (typeof a[key] === \"number\" && typeof b[key] === \"number\") {\r\n        // If both compared fields are native numbers\r\n        return a[key] < b[key] ? -1 : a[key] > b[key] ? 1 : 0;\r\n      } else {\r\n        // Stringify the field data and use String.localeCompare\r\n        return a[key].toString().localeCompare(b[key].toString(), undefined, {\r\n          numeric: true\r\n        });\r\n      }\r\n    },\r\n    syncWithQueryState(qs) {\r\n      this.selectedTab = qs.t;\r\n      this.currentChildPage = Number(qs.cp) || this.currentChildPage;\r\n      this.currentItemPage = Number(qs.ip) || this.currentItemPage;\r\n\r\n      // If we have external items, the b-table needs to \"stay\" on page 1 as\r\n      // the items list only contains the number of items we want to show.\r\n      this.currentItemListPage = this.hasExternalItems ? 1 : this.currentItemPage;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"css\">\r\nh3 {\r\n  margin-top: 25px;\r\n  margin-bottom: 25px;\r\n}\r\n\r\nth h3 {\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  font-size: 16px;\r\n  text-transform: uppercase;\r\n  color: #555;\r\n  font-weight: normal;\r\n}\r\n\r\n.table th {\r\n  border-top: none;\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\ntd.provider {\r\n  border: none;\r\n  padding: 0 15px;\r\n}\r\n\r\ntd.provider .description {\r\n  padding-left: 5px;\r\n  font-style: italic;\r\n}\r\n\r\n.leaflet-container {\r\n  background-color: #262626;\r\n}\r\n\r\n#locator-map {\r\n  height: 200px;\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Catalog.vue?vue&type=template&id=79e1ec1e&scoped=true&\"\nimport script from \"./Catalog.vue?vue&type=script&lang=js&\"\nexport * from \"./Catalog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Catalog.vue?vue&type=style&index=0&id=79e1ec1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79e1ec1e\",\n  null\n  \n)\n\nexport default component.exports","import path from \"path\";\nimport url from \"url\";\n\nimport \"@babel/polyfill\";\nimport \"es6-promise/auto\";\nimport AsyncComputed from \"vue-async-computed\";\nimport BootstrapVue from \"bootstrap-vue\";\nimport bs58 from \"bs58\";\nimport Clipboard from \"v-clipboard\";\nimport Meta from \"vue-meta\";\nimport Multiselect from \"vue-multiselect\";\nimport pMap from \"p-map\";\nimport Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Vuex from \"vuex\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"vue-multiselect/dist/vue-multiselect.min.css\";\n\nimport { fetchUri, fetchSchemaValidator } from \"./util\";\nimport Catalog from \"./components/Catalog.vue\";\nimport Item from \"./components/Item.vue\";\n\nimport VueConfig from \"../vue.config.js\";\n\nVue.component(\"multiselect\", Multiselect);\n\nVue.use(AsyncComputed);\nVue.use(BootstrapVue);\nVue.use(Clipboard);\nVue.use(Meta);\nVue.use(VueRouter);\nVue.use(Vuex);\n\nconst API = process.env.NODE_ENV === 'production' ? 'http://stac-index-srv.lutana.de' : 'http://localhost:9999'\n\nconst main = async () => {\n\n  if (typeof window.location.search !== 'string' || window.location.search.length < 2) {\n    alert(\"Unable to read ID from query string\");\n    return;\n  }\n\n  const ID = window.location.search.substr(1);\n\n  try {\n    var CATALOG_URL = null;\n    const rsp = await fetchUri(API + '/collections/' + ID);\n    if (!rsp.ok) {\n      alert(\"Can't load collection from server.\");\n      return;\n    }\n    const entity = await rsp.json();\n    if (!entity) {\n      alert(\"Collection not available.\");\n      return;\n    }\n    CATALOG_URL = entity.url;\n  } catch (err) {\n    alert(err.message);\n  }\n  \n  const makeRelative = uri => {\n    const rootURI = url.parse(CATALOG_URL);\n    const localURI = url.parse(uri);\n  \n    if (rootURI.hostname !== localURI.hostname) {\n      return uri;\n    }\n  \n    const rootPath = rootURI.path\n      .split(\"/\")\n      .slice(0, -1)\n      .join(\"/\");\n  \n    return path.relative(rootPath, `${localURI.path}${localURI.hash || \"\"}`);\n  };\n  \n  /**\n   * Generate a slug (short, URL-encodable string) for a URI.\n   *\n   * @param {String} uri URI to generate a slug for.\n   * @returns Base58-encoded relative path to the root catalog.\n   */\n  const slugify = uri => bs58.encode(Buffer.from(makeRelative(uri)));\n  \n  const resolve = (href, base = CATALOG_URL) => new URL(href, base).toString();\n  \n  function decode(s) {\n    try {\n      return resolve(bs58.decode(s).toString());\n    } catch (err) {\n      console.warn(err);\n      return CATALOG_URL;\n    }\n  }\n\n\n  let persistedState = {};\n  const renderedState = document.querySelector(\n    \"script.state[type='application/json']\"\n  );\n\n  if (renderedState != null) {\n    try {\n      persistedState = JSON.parse(renderedState.text);\n    } catch (err) {\n      console.warn(\"Unable to parse rendered state:\", err);\n    }\n  }\n\n  const collectionValidator = async (data) => {\n    const stacVersion = data.stac_version || \"0.7.0\";\n\n    let validateCollection = await fetchSchemaValidator(\"collection\", stacVersion);\n    if (!validateCollection(data)) {\n      return validateCollection.errors.slice();\n    }\n    return null;\n  };\n\n  const catalogValidator = async (data) => {\n    if (data.license != null || data.extent != null) {\n      // contains Collection properties\n      return collectionValidator(data);\n    }\n\n    const stacVersion = data.stac_version || \"0.7.0\";\n\n    let validateCatalog = await fetchSchemaValidator(\"catalog\", stacVersion);\n\n    if (!validateCatalog(data)) {\n      return validateCatalog.errors.slice();\n    }\n\n    return null;\n  };\n\n  const itemValidator = async (data) => {\n    const stacVersion = data.stac_version || \"0.7.0\";\n\n    let validateItem = await fetchSchemaValidator(\"item\", stacVersion);\n    if (!validateItem(data)) {\n      return validateItem.errors.slice();\n    }\n    return null;\n  };\n\n  const routes = [\n    {\n      path: \"/item/:path*\",\n      component: Item,\n      props: route => {\n        let ancestors = [CATALOG_URL];\n\n        if (route.params.path != null) {\n          ancestors = ancestors.concat(\n            route.params.path.split(\"/\").map(decode)\n          );\n        }\n\n        let center = null;\n\n        if (route.hash != \"\") {\n          center = route.hash.slice(1).split(\"/\");\n        }\n\n        return {\n          ancestors,\n          center,\n          path: route.path,\n          resolve,\n          slugify,\n          url: ancestors.slice(-1).pop(),\n          validate: itemValidator\n        };\n      }\n    },\n    {\n      path: \"/collection/:path*\",\n      component: Catalog,\n      props: route => {\n        let ancestors = [CATALOG_URL];\n\n        if (route.params.path != null) {\n          ancestors = ancestors.concat(\n            route.params.path.split(\"/\").map(decode)\n          );\n        }\n\n        return {\n          ancestors,\n          path: route.path,\n          resolve,\n          slugify,\n          url: ancestors.slice(-1).pop(),\n          validate: collectionValidator\n        };\n      }\n    },\n    {\n      path: \"/:path*\",\n      component: Catalog,\n      props: route => {\n        let ancestors = [CATALOG_URL];\n\n        if (route.params.path != null) {\n          ancestors = ancestors.concat(\n            route.params.path.split(\"/\").map(decode)\n          );\n        }\n\n        return {\n          ancestors,\n          path: route.path,\n          resolve,\n          slugify,\n          url: ancestors.slice(-1).pop(),\n          validate: catalogValidator\n        };\n      }\n    }\n  ];\n\n  const store = new Vuex.Store({\n    state: {\n      entities: {},\n      loading: {}\n    },\n    getters: {\n      getEntity: state => uri => state.entities[uri]\n    },\n    mutations: {\n      FAILED(state, { err, url }) {\n        state.entities = {\n          ...state.entities,\n          [url]: err\n        };\n\n        state.loading = {\n          ...state.loading,\n          [url]: false\n        };\n      },\n      LOADING(state, url) {\n        state.loading = {\n          ...state.loading,\n          [url]: true\n        };\n      },\n      LOADED(state, { entity, url }) {\n        state.entities = {\n          ...state.entities,\n          [url]: entity\n        };\n\n        state.loading = {\n          ...state.loading,\n          [url]: false\n        };\n      }\n    },\n    actions: {\n      async load({ commit, state }, url) {\n        if (state.entities[url] != null || state.loading[url] === true) {\n          // already loading / loaded\n          return;\n        }\n\n        commit(\"LOADING\", url);\n\n        try {\n          const rsp = await fetchUri(url);\n\n          if (rsp.ok) {\n            const entity = await rsp.json();\n\n            commit(\"LOADED\", { entity, url });\n          } else {\n            commit(\"FAILED\", { err: new Error(await rsp.text()), url });\n          }\n        } catch (err) {\n          console.warn(err);\n\n          commit(\"FAILED\", { err, url });\n        }\n      }\n    },\n    strict: process.env.NODE_ENV !== \"production\"\n  });\n\n  const router = new VueRouter({\n    base: VueConfig.publicPath || \"/\",\n    mode: \"hash\",\n    routes\n  });\n\n  window.router = router;\n\n  await store.dispatch(\"load\", CATALOG_URL);\n\n  router.beforeEach(async (to, from, next) => {\n    if (from.path === to.path) {\n      return next();\n    }\n\n    if (\n      persistedState.path != null &&\n      persistedState.path !== to.path.replace(/\\/$/, \"\") &&\n      persistedState.path.toLowerCase() ===\n        to.path.toLowerCase().replace(/\\/$/, \"\")\n    ) {\n      return next(persistedState.path);\n    }\n\n    if (to.params.path != null) {\n      // pre-load all known entities\n      const urls = to.params.path\n        .split(\"/\")\n        .reverse()\n        .map(decode);\n\n      await pMap(urls, store.dispatch.bind(store, \"load\"), {\n        concurrency: 10\n      });\n    }\n\n    return next();\n  });\n\n  // initial load\n  let el = document.getElementById(\"app\");\n\n  // replace existing content\n  if (document.getElementById(\"rendered\") != null) {\n    el = document.getElementById(\"rendered\");\n  }\n\n  new Vue({\n    el,\n    router,\n    store,\n    template: `<router-view id=\"rendered\" />`\n  });\n};\n\nmain();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{class:_vm.loaded && 'loaded'},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('header',[_c('div',[_c('b-breadcrumb',{attrs:{\"items\":_vm.breadcrumbs}})],1)])])],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"8\"}},[_c('h1',{staticClass:\"scroll\"},[_vm._v(_vm._s(_vm.title))]),_c('p',{staticClass:\"scroll\"},[_c('small',[(_vm.validationErrors)?_c('span',{attrs:{\"title\":\"Validation errors present; please check the JavaScript Console\"}},[_vm._v(\"⚠️\")]):_vm._e(),_c('code',[_vm._v(_vm._s(_vm.url))])])]),_c('b-tabs',{model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[(_vm.visibleTabs.includes('preview'))?_c('b-tab',{attrs:{\"title\":\"Preview\",\"active\":\"\"}},[_c('div',{attrs:{\"id\":\"map-container\"}},[_c('div',{attrs:{\"id\":\"map\"}})]),(_vm.cogs.length > 1)?_c('multiselect',{attrs:{\"options\":_vm.cogs,\"placeholder\":\"Select an image\",\"track-by\":\"href\",\"label\":\"title\"},model:{value:(_vm.selectedImage),callback:function ($$v) {_vm.selectedImage=$$v},expression:\"selectedImage\"}}):_vm._e(),(_vm.features.length > 0)?_c('multiselect',{attrs:{\"options\":_vm.features,\"placeholder\":\"Select a set of features\",\"track-by\":\"href\",\"label\":\"title\"},model:{value:(_vm.selectedFeatures),callback:function ($$v) {_vm.selectedFeatures=$$v},expression:\"selectedFeatures\"}}):_vm._e()],1):_vm._e(),(_vm.visibleTabs.includes('thumbnail'))?_c('b-tab',{attrs:{\"title\":\"Thumbnail\",\"active\":!_vm.visibleTabs.includes('preview')}},[_c('a',{attrs:{\"href\":_vm.thumbnail}},[_c('img',{attrs:{\"id\":\"thumbnail\",\"align\":\"center\",\"src\":_vm.thumbnail}})])]):_vm._e(),(_vm.visibleTabs.includes('assets'))?_c('b-tab',{attrs:{\"title\":\"Assets\",\"active\":!_vm.visibleTabs.includes('preview') &&\n                !_vm.visibleTabs.includes('thumbnail')}},[_c('div',{staticClass:\"table-responsive assets\"},[_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\")]),(_vm.bands.length > 0)?_c('th',[_vm._v(\"Band(s)\")]):_vm._e(),_c('th',[_vm._v(\"Content-Type\")])])]),_c('tbody',_vm._l((_vm.assets),function(asset){return _c('tr',{key:asset.key},[_c('td',[_c('a',{attrs:{\"href\":asset.href,\"title\":asset.key},domProps:{\"innerHTML\":_vm._s(asset.label)}})]),(_vm.bands.length > 0)?_c('td',[_vm._v(_vm._s(asset.bandNames))]):_vm._e(),_c('td',[_c('code',[_vm._v(_vm._s(asset.type))])])])}),0)])])]):_vm._e(),(_vm.visibleTabs.includes('bands'))?_c('b-tab',{attrs:{\"title\":\"Bands\",\"active\":!_vm.visibleTabs.includes('preview') &&\n                !_vm.visibleTabs.includes('thumbnail') &&\n                !_vm.visibleTabs.includes('assets')}},[_c('b-table',{attrs:{\"items\":_vm.bands,\"fields\":_vm.bandFields,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"}})],1):_vm._e()],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-card',{attrs:{\"bg-variant\":\"light\"}},[_c('div',{attrs:{\"id\":\"locator-map\"}}),_c('div',{staticClass:\"table-responsive metadata\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',{staticClass:\"group\",attrs:{\"colspan\":\"2\"}},[_c('h4',[_vm._v(\"Metadata\")])])]),(_vm.collection)?_c('tr',[_c('td',{staticClass:\"title\"},[_vm._v(\"Collection\")]),_c('td',[_c('router-link',{attrs:{\"to\":_vm.linkToCollection}},[_vm._v(\" \"+_vm._s(_vm.collection.title || \"Untitled\")+\" \")])],1)]):_vm._e(),(_vm.license)?_c('tr',[_c('td',{staticClass:\"title\"},[_vm._v(\"License\")]),_c('td',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.license)}}),(_vm.licensor)?[_vm._v(\"by \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.licensor)}})]:_vm._e()],2)]):_vm._e(),_vm._l((_vm.propertyList),function(props,ext){return [(ext)?_c('tr',{key:ext},[_c('td',{staticClass:\"group\",attrs:{\"colspan\":\"2\"}},[_c('h4',[_vm._v(_vm._s(ext))])])]):_vm._e(),_vm._l((props),function(prop){return _c('tr',{key:prop.key},[_c('td',{staticClass:\"title\"},[_c('span',{attrs:{\"title\":prop.key},domProps:{\"innerHTML\":_vm._s(prop.label)}})]),_c('td',{domProps:{\"innerHTML\":_vm._s(prop.value)}})])})]})],2)])])])],1)],1)],1),_c('footer',{staticClass:\"footer\"},[_c('b-container',[_c('span',{staticClass:\"poweredby text-muted\"},[_vm._v(\" Powered by \"),_c('a',{attrs:{\"href\":\"https://github.com/radiantearth/stac-browser\"}},[_vm._v(\"STAC Browser\")])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-container :class=\"loaded && 'loaded'\">\r\n      <b-row>\r\n        <b-col md=\"12\">\r\n          <header>\r\n            <div>\r\n              <b-breadcrumb :items=\"breadcrumbs\" />\r\n            </div>\r\n          </header>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col md=\"8\">\r\n          <h1 class=\"scroll\">{{ title }}</h1>\r\n          <p class=\"scroll\">\r\n            <small>\r\n              <!-- <b-button\r\n                v-clipboard=\"url\"\r\n                variant=\"link\"\r\n                size=\"sm\"\r\n                class=\"clipboard\"\r\n              > -->\r\n              <span\r\n                v-if=\"validationErrors\"\r\n                title=\"Validation errors present; please check the JavaScript Console\"\r\n                >⚠️</span\r\n              >\r\n              <!-- <i class=\"far fa-copy\" />&nbsp; -->\r\n              <code>{{ url }}</code>\r\n              <!-- </b-button> -->\r\n            </small>\r\n          </p>\r\n          <b-tabs v-model=\"tabIndex\">\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('preview')\"\r\n              title=\"Preview\"\r\n              active\r\n            >\r\n              <div id=\"map-container\">\r\n                <div id=\"map\"></div>\r\n              </div>\r\n              <multiselect\r\n                v-if=\"cogs.length > 1\"\r\n                v-model=\"selectedImage\"\r\n                :options=\"cogs\"\r\n                placeholder=\"Select an image\"\r\n                track-by=\"href\"\r\n                label=\"title\"\r\n              />\r\n              <multiselect\r\n                v-if=\"features.length > 0\"\r\n                v-model=\"selectedFeatures\"\r\n                :options=\"features\"\r\n                placeholder=\"Select a set of features\"\r\n                track-by=\"href\"\r\n                label=\"title\"\r\n              />\r\n            </b-tab>\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('thumbnail')\"\r\n              title=\"Thumbnail\"\r\n              :active=\"!visibleTabs.includes('preview')\"\r\n            >\r\n              <a :href=\"thumbnail\">\r\n                <img id=\"thumbnail\" align=\"center\" :src=\"thumbnail\" />\r\n              </a>\r\n            </b-tab>\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('assets')\"\r\n              title=\"Assets\"\r\n              :active=\"\r\n                !visibleTabs.includes('preview') &&\r\n                  !visibleTabs.includes('thumbnail')\r\n              \"\r\n            >\r\n              <div class=\"table-responsive assets\">\r\n                <table class=\"table table-striped\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Name</th>\r\n                      <th v-if=\"bands.length > 0\">Band(s)</th>\r\n                      <th>Content-Type</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"asset in assets\" :key=\"asset.key\">\r\n                      <td>\r\n                        <!-- eslint-disable-next-line vue/max-attributes-per-line vue/no-v-html -->\r\n                        <a\r\n                          :href=\"asset.href\"\r\n                          :title=\"asset.key\"\r\n                          v-html=\"asset.label\"\r\n                        />\r\n                      </td>\r\n                      <td v-if=\"bands.length > 0\">{{ asset.bandNames }}</td>\r\n                      <td>\r\n                        <code>{{ asset.type }}</code>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </b-tab>\r\n            <b-tab\r\n              v-if=\"visibleTabs.includes('bands')\"\r\n              title=\"Bands\"\r\n              :active=\"\r\n                !visibleTabs.includes('preview') &&\r\n                  !visibleTabs.includes('thumbnail') &&\r\n                  !visibleTabs.includes('assets')\r\n              \"\r\n            >\r\n              <b-table\r\n                :items=\"bands\"\r\n                :fields=\"bandFields\"\r\n                responsive\r\n                small\r\n                striped\r\n              />\r\n            </b-tab>\r\n          </b-tabs>\r\n        </b-col>\r\n\r\n        <b-col md=\"4\">\r\n          <b-card bg-variant=\"light\">\r\n            <div id=\"locator-map\" />\r\n            <div class=\"table-responsive metadata\">\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td class=\"group\" colspan=\"2\">\r\n                      <h4>Metadata</h4>\r\n                    </td>\r\n                  </tr>\r\n                  <tr v-if=\"collection\">\r\n                    <td class=\"title\">Collection</td>\r\n                    <td>\r\n                      <router-link :to=\"linkToCollection\">\r\n                        {{ collection.title || \"Untitled\" }}\r\n                      </router-link>\r\n                    </td>\r\n                  </tr>\r\n                  <tr v-if=\"license\">\r\n                    <td class=\"title\">License</td>\r\n                    <td>\r\n                      <!-- eslint-disable-next-line vue/no-v-html -->\r\n                      <span v-html=\"license\"></span>\r\n                      <template v-if=\"licensor\"\r\n                        >by\r\n                        <!-- eslint-disable-next-line vue/no-v-html -->\r\n                        <span v-html=\"licensor\"></span>\r\n                      </template>\r\n                    </td>\r\n                  </tr>\r\n                  <template v-for=\"(props, ext) in propertyList\">\r\n                    <tr v-if=\"ext\" :key=\"ext\">\r\n                      <td class=\"group\" colspan=\"2\">\r\n                        <h4>{{ ext }}</h4>\r\n                      </td>\r\n                    </tr>\r\n                    <tr v-for=\"prop in props\" :key=\"prop.key\">\r\n                      <td class=\"title\">\r\n                        <!-- eslint-disable-next-line vue/no-v-html -->\r\n                        <span :title=\"prop.key\" v-html=\"prop.label\" />\r\n                      </td>\r\n                      <!-- eslint-disable-next-line vue/no-v-html -->\r\n                      <td v-html=\"prop.value\" />\r\n                    </tr>\r\n                  </template>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n    <footer class=\"footer\">\r\n      <b-container>\r\n        <span class=\"poweredby text-muted\">\r\n          Powered by\r\n          <a href=\"https://github.com/radiantearth/stac-browser\"\r\n            >STAC Browser</a\r\n          >\r\n        </span>\r\n      </b-container>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport path from \"path\";\r\nimport url from \"url\";\r\n\r\nimport * as d3 from \"d3-scale-chromatic\";\r\nimport escape from \"lodash.escape\";\r\nimport isEqual from \"lodash.isequal\";\r\nimport Leaflet from \"leaflet\";\r\nimport \"leaflet-easybutton\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nimport common from \"./common\";\r\n\r\nconst COG_TYPES = [\r\n  \"image/vnd.stac.geotiff; cloud-optimized=true\",\r\n  \"image/x.geotiff\", // generated by sat-api\r\n  \"image/tiff; application=geotiff; profile=cloud-optimized\"\r\n];\r\n\r\nconst FEATURES_TYPES = [\"application/geo+json\"];\r\n\r\nexport default {\r\n  ...common,\r\n  name: \"ItemDetail\",\r\n  props: {\r\n    ancestors: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    center: {\r\n      type: Array,\r\n      default: null\r\n    },\r\n    path: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    resolve: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    slugify: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    url: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    validate: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fullscreen: false,\r\n      locatorMap: null,\r\n      map: null,\r\n      featuresLayer: null,\r\n      tileLayer: null,\r\n      overlayLayer: null,\r\n      locatorOverlayLayer: null,\r\n      geojsonOptions: {\r\n        style: function() {\r\n          return {\r\n            weight: 2,\r\n            color: \"#333\",\r\n            opacity: 1,\r\n            fillOpacity: 0\r\n          };\r\n        }\r\n      },\r\n      selectedFeatures: null,\r\n      selectedImage: null,\r\n      selectedTab: null,\r\n      validationErrors: null\r\n    };\r\n  },\r\n  computed: {\r\n    ...common.computed,\r\n    ...mapGetters([\"getEntity\"]),\r\n    _collectionLinks() {\r\n      return this.links.filter(x => x.rel === \"collection\");\r\n    },\r\n    _description() {\r\n      return this._properties.description;\r\n    },\r\n    _keywords() {\r\n      return (\r\n        (this.collection && this.collection.keywords) ||\r\n        common.computed._keywords.apply(this)\r\n      );\r\n    },\r\n    _license() {\r\n      return (\r\n        this._properties[\"item:license\"] ||\r\n        (this.collection && this.collection.license) ||\r\n        (this.rootCatalog && this.rootCatalog.license)\r\n      );\r\n    },\r\n    _providers() {\r\n      return (\r\n        this._properties[\"item:providers\"] ||\r\n        (this.collection && this.collection.providers) ||\r\n        common.computed._providers.apply(this)\r\n      );\r\n    },\r\n    _temporalCoverage() {\r\n      if (this._properties[\"dtr:start_datetime\"] != null) {\r\n        return [\r\n          this._properties[\"dtr:start_datetime\"],\r\n          this._properties[\"dtr:end_datetime\"]\r\n        ]\r\n          .map(x => x || \"..\")\r\n          .join(\"/\");\r\n      }\r\n\r\n      return this._properties.datetime;\r\n    },\r\n    _title() {\r\n      return this._properties.title;\r\n    },\r\n    assets() {\r\n      return (\r\n        Object.keys(this.item.assets)\r\n          .map(key => ({\r\n            ...this.item.assets[key],\r\n            key\r\n          }))\r\n          .map(x => ({\r\n            ...x,\r\n            bands: (x[\"eo:bands\"] || []).map(idx => this.bands[idx]),\r\n            title: x.title || path.basename(x.href),\r\n            label:\r\n              escape(x.title) ||\r\n              `<code>${escape(path.basename(x.href))}</code>`,\r\n            href: this.resolve(x.href, this.url)\r\n          }))\r\n          .map(x => ({\r\n            ...x,\r\n            bandNames: x.bands\r\n              .map(band =>\r\n                band != null\r\n                  ? band.description || band.common_name || band.name\r\n                  : null\r\n              )\r\n              .filter(x => x != null)\r\n              .join(\", \")\r\n          }))\r\n          // prioritize assets w/ a format set\r\n          .sort((a, b) => {\r\n            const formatA = a.format || \"zzz\";\r\n            const formatB = b.format || \"zzz\";\r\n\r\n            if (formatA < formatB) {\r\n              return -1;\r\n            }\r\n\r\n            if (formatA > formatB) {\r\n              return 1;\r\n            }\r\n\r\n            return 0;\r\n          })\r\n      );\r\n    },\r\n    attribution() {\r\n      if (this.license != null || this.licensor != null) {\r\n        return `Imagery ${this.license || \"\"} ${this.licensor || \"\"}`;\r\n      }\r\n\r\n      return null;\r\n    },\r\n    bands() {\r\n      return (\r\n        this._properties[\"eo:bands\"] ||\r\n        (this.collection &&\r\n          this.collection.properties &&\r\n          this.collection.properties[\"eo:bands\"]) ||\r\n        (this.rootCatalog &&\r\n          this.rootCatalog.properties &&\r\n          this.rootCatalog.properties[\"eo:bands\"]) ||\r\n        []\r\n      );\r\n    },\r\n    cog() {\r\n      return (\r\n        this.cogs\r\n          .slice()\r\n          // prefer COGs with \"visual\" key\r\n          .sort((a, b) => b.key.indexOf(\"visual\") - a.key.indexOf(\"visual\"))\r\n          .shift()\r\n      );\r\n    },\r\n    cogs() {\r\n      return this.assets\r\n        .filter(x => COG_TYPES.includes(x.type))\r\n        .map(cog => ({\r\n          ...cog,\r\n          title:\r\n            cog.bandNames.length > 0\r\n              ? `${cog.title} (${cog.bandNames})`\r\n              : cog.title\r\n        }))\r\n        .map(cog => ({\r\n          ...cog,\r\n          title: `Image: ${cog.title}`\r\n        }));\r\n    },\r\n    collection() {\r\n      if (this.collectionLink != null) {\r\n        this.load(this.collectionLink.href);\r\n\r\n        return this.getEntity(this.collectionLink.href);\r\n      }\r\n\r\n      return null;\r\n    },\r\n    collectionLink() {\r\n      return this._collectionLinks\r\n        .map(x => ({\r\n          ...x,\r\n          href: this.resolve(x.href, this.url),\r\n          slug: this.slugify(this.resolve(x.href, this.url))\r\n        }))\r\n        .pop();\r\n    },\r\n    entity() {\r\n      return this.item;\r\n    },\r\n    features() {\r\n      return this.assets\r\n        .filter(x => FEATURES_TYPES.includes(x.type))\r\n        .map(features => ({\r\n          ...features,\r\n          title: `Features: ${features.title}`\r\n        }));\r\n    },\r\n    featuresSource() {\r\n      if (this.selectedFeatures == null) {\r\n        return \"\";\r\n      }\r\n\r\n      return this.selectedFeatures.href;\r\n    },\r\n    item() {\r\n      if (this._entity.type === \"FeatureCollection\") {\r\n        const { hash } = url.parse(this.url);\r\n        const idx = hash.slice(1);\r\n\r\n        return this._entity.features[idx];\r\n      }\r\n\r\n      return this._entity;\r\n    },\r\n    jsonLD() {\r\n      const dataset = {\r\n        \"@context\": \"https://schema.org/\",\r\n        \"@type\": \"Dataset\",\r\n        // required\r\n        name: this.title,\r\n        description: this.description || `${this.title} STAC Item`,\r\n        // recommended\r\n        citation: this._properties[\"sci:citation\"],\r\n        identifier: this._properties[\"sci:doi\"] || this.item.id,\r\n        keywords: this._keywords,\r\n        license: this.licenseUrl,\r\n        isBasedOn: this.url,\r\n        url: this.path,\r\n        workExample: (this._properties[\"sci:publications\"] || []).map(p => ({\r\n          identifier: p.doi,\r\n          citation: p.citation\r\n        })),\r\n        includedInDataCatalog: [this.collectionLink, this.parentLink]\r\n          .filter(x => !!x)\r\n          .map(l => ({\r\n            isBasedOn: l.href,\r\n            url: l.slug\r\n          })),\r\n        spatialCoverage: {\r\n          \"@type\": \"Place\",\r\n          geo: {\r\n            \"@type\": \"GeoShape\",\r\n            box: (this.item.bbox || []).join(\" \")\r\n          }\r\n        },\r\n        temporalCoverage: this._temporalCoverage,\r\n        distribution: this.assets.map(a => ({\r\n          contentUrl: a.href,\r\n          fileFormat: a.type,\r\n          name: a.title\r\n        })),\r\n        image: this.thumbnail\r\n      };\r\n\r\n      return dataset;\r\n    },\r\n    licensor() {\r\n      return this.providers\r\n        .filter(x => (x.roles || []).includes(\"licensor\"))\r\n        .map(x => {\r\n          if (x.url != null) {\r\n            return `<a href=${x.url}>${x.name}</a>`;\r\n          }\r\n\r\n          return x.name;\r\n        })\r\n        .pop();\r\n    },\r\n    linkToCollection() {\r\n      if (this.collectionLink.href != null) {\r\n        return `/collection/${this.slugify(this.collectionLink.href)}`;\r\n      }\r\n\r\n      return null;\r\n    },\r\n    parentLink() {\r\n      return this.links\r\n        .filter(x => x.rel === \"parent\")\r\n        .map(x => ({\r\n          ...x,\r\n          href: this.resolve(x.href, this.url),\r\n          slug: this.slugify(this.resolve(x.href, this.url))\r\n        }))\r\n        .pop();\r\n    },\r\n    tabIndex: {\r\n      get: function() {\r\n        return this.visibleTabs.indexOf(this.selectedTab);\r\n      },\r\n      set: function(tabIndex) {\r\n        // wait for the DOM to update\r\n        this.$nextTick(() => {\r\n          this.selectedTab = this.visibleTabs[tabIndex];\r\n        });\r\n      }\r\n    },\r\n    thumbnail() {\r\n      const thumbnail = this.assets.find(x => x.key === \"thumbnail\");\r\n\r\n      if (thumbnail != null) {\r\n        return this.resolve(thumbnail.href, this.url);\r\n      }\r\n\r\n      return null;\r\n    },\r\n    tileSource() {\r\n      if (this.selectedImage == null) {\r\n        return \"\";\r\n      }\r\n\r\n      // TODO global config\r\n      return `https://tiles.rdnt.io/tiles/{z}/{x}/{y}@2x?url=${encodeURIComponent(\r\n        this.selectedImage.href\r\n      )}`;\r\n      // return `http://localhost:8000/tiles/{z}/{x}/{y}@2x?url=${encodeURIComponent(\r\n      //   this.cog\r\n      // )}`;\r\n    },\r\n    visibleTabs() {\r\n      return [\r\n        this.cogs.length > 0 && \"preview\",\r\n        this.thumbnail != null && \"thumbnail\",\r\n        this.assets.length > 0 && \"assets\",\r\n        this.bands.length > 0 && \"bands\"\r\n      ].filter(x => x != null && x !== false);\r\n    }\r\n  },\r\n  watch: {\r\n    ...common.watch,\r\n    featuresSource(to, from) {\r\n      if (to !== from) {\r\n        if (this.map != null) {\r\n          this.initializeFeaturesLayer();\r\n        }\r\n      }\r\n    },\r\n    fullscreen(to, from) {\r\n      if (to !== from) {\r\n        if (this.map != null) {\r\n          if (to) {\r\n            this.map.getContainer().classList.add(\"leaflet-pseudo-fullscreen\");\r\n          } else {\r\n            this.map\r\n              .getContainer()\r\n              .classList.remove(\"leaflet-pseudo-fullscreen\");\r\n          }\r\n        }\r\n\r\n        this.updateState({\r\n          fullscreen: to\r\n        });\r\n\r\n        if (this.map != null) {\r\n          this.map.invalidateSize();\r\n        }\r\n      }\r\n    },\r\n    selectedFeatures(to, from) {\r\n      if (!isEqual(to, from)) {\r\n        const idx = this.features.indexOf(to);\r\n\r\n        if (idx >= 0) {\r\n          this.updateState({\r\n            sf: idx\r\n          });\r\n        } else {\r\n          this.updateState({\r\n            sf: null\r\n          });\r\n        }\r\n      }\r\n    },\r\n    selectedImage(to, from) {\r\n      if (!isEqual(to, from)) {\r\n        const idx = this.cogs.indexOf(to);\r\n\r\n        if (idx >= 0) {\r\n          this.updateState({\r\n            si: idx\r\n          });\r\n        } else {\r\n          this.updateState({\r\n            si: null\r\n          });\r\n        }\r\n      }\r\n    },\r\n    selectedTab(to, from) {\r\n      if (to !== from) {\r\n        this.updateState({\r\n          t: to\r\n        });\r\n\r\n        if (to === \"preview\") {\r\n          this.map && this.map.invalidateSize();\r\n        }\r\n      }\r\n    },\r\n    tileSource(to, from) {\r\n      if (to !== from) {\r\n        if (this.map != null) {\r\n          if (this.tileLayer != null) {\r\n            this.tileLayer.removeFrom(this.map);\r\n          }\r\n\r\n          this.tileLayer = Leaflet.tileLayer(to, {\r\n            attribution: this.attribution\r\n          }).addTo(this.map);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...common.methods,\r\n    ...mapActions([\"load\"]),\r\n    initialize() {\r\n      this.syncWithQueryState(this.$route.query);\r\n\r\n      this.$nextTick(() => {\r\n        if (this.cog != null) {\r\n          this.selectedImage = this.selectedImage || this.cog;\r\n\r\n          this.initializePreviewMap();\r\n        }\r\n        this.initializeLocatorMap();\r\n      });\r\n    },\r\n    initializeFeaturesLayer() {\r\n      if (this.featuresLayer != null) {\r\n        this.featuresLayer.removeFrom(this.map);\r\n      }\r\n\r\n      this.featuresLayer = Leaflet.geoJSON(null, {\r\n        onEachFeature: (feature, layer) =>\r\n          layer.bindPopup(() => {\r\n            const el = document.createElement(\"table\");\r\n\r\n            const labelProperties = this._properties[\"label:property\"] || [];\r\n\r\n            el.innerHTML = Object.entries(feature.properties)\r\n              .filter(([k]) =>\r\n                labelProperties.length > 0 ? labelProperties.includes(k) : true\r\n              )\r\n              .map(\r\n                ([k, v]) =>\r\n                  `<tr><td><strong>${k}</strong></td><td><code>${v}</code></td></tr>`\r\n              )\r\n              .join(\"\");\r\n\r\n            return el;\r\n          }),\r\n        style: feature => {\r\n          const labelClasses = this._properties[\"label:classes\"];\r\n          const classes = (labelClasses || [])\r\n            .map(x => x.classes.map(c => `${x.name}-${c}`))\r\n            .flat();\r\n          const classification = (\r\n            labelClasses\r\n              .map(x => [x.name, feature.properties[x.name]])\r\n              .find(x => x[1] != null) || []\r\n          ).join(\"-\");\r\n          const color =\r\n            d3.schemeTableau10[\r\n              classes.indexOf(classification) % d3.schemeTableau10.length\r\n            ] || \"#fc0\";\r\n\r\n          return {\r\n            color,\r\n            weight: 1,\r\n            opacity: 1,\r\n            fillOpacity: 0.25\r\n          };\r\n        }\r\n      }).addTo(this.map);\r\n\r\n      this.$nextTick(async () => {\r\n        try {\r\n          const rsp = await fetch(this.featuresSource);\r\n          const data = await rsp.json();\r\n          this.featuresLayer.addData(data);\r\n        } catch (err) {\r\n          console.warn(err);\r\n        }\r\n      });\r\n    },\r\n    initializeLocatorMap() {\r\n      if (this.locatorMap == null) {\r\n        this.locatorMap = Leaflet.map(\"locator-map\", {\r\n          attributionControl: false,\r\n          zoomControl: false,\r\n          boxZoom: false,\r\n          doubleClickZoom: false,\r\n          dragging: false,\r\n          scrollWheelZoom: false,\r\n          touchZoom: false\r\n        });\r\n\r\n        Leaflet.tileLayer(\r\n          \"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}@2x.png\",\r\n          {\r\n            attribution: `Map data <a href=\"https://www.openstreetmap.org/copyright\">&copy; OpenStreetMap contributors</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\r\n          }\r\n        ).addTo(this.locatorMap);\r\n        Leaflet.tileLayer(\r\n          \"https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}@2x.png\",\r\n          {\r\n            opacity: 0.6,\r\n            zIndex: 1000\r\n          }\r\n        ).addTo(this.locatorMap);\r\n      } else {\r\n        this.locatorOverlayLayer.removeFrom(this.locatorMap);\r\n      }\r\n\r\n      this.locatorOverlayLayer = Leaflet.geoJSON(this.item, {\r\n        pane: \"tilePane\",\r\n        style: {\r\n          weight: 1,\r\n          color: \"#ffd65d\",\r\n          opacity: 1,\r\n          fillOpacity: 1\r\n        }\r\n      }).addTo(this.locatorMap);\r\n\r\n      this.locatorMap.fitBounds(this.locatorOverlayLayer.getBounds(), {\r\n        padding: [95, 95]\r\n      });\r\n    },\r\n    initializePreviewMap() {\r\n      if (this.map == null) {\r\n        this.map = Leaflet.map(\"map\", {\r\n          scrollWheelZoom: false\r\n        });\r\n\r\n        this.map.on(\"moveend\", this.updateHash);\r\n        this.map.on(\"zoomend\", this.updateHash);\r\n\r\n        this.map.attributionControl.setPrefix(\"\");\r\n\r\n        this.button = Leaflet.easyButton(\r\n          \"fas fa-expand fa-2x\",\r\n          () => (this.fullscreen = !this.fullscreen),\r\n          {\r\n            position: \"topright\"\r\n          }\r\n        ).addTo(this.map);\r\n\r\n        if (this.fullscreen) {\r\n          this.map.getContainer().classList.add(\"leaflet-pseudo-fullscreen\");\r\n        }\r\n\r\n        Leaflet.tileLayer(\r\n          \"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}@2x.png\",\r\n          {\r\n            attribution: `Map data <a href=\"https://www.openstreetmap.org/copyright\">&copy; OpenStreetMap contributors</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\r\n          }\r\n        ).addTo(this.map);\r\n        Leaflet.tileLayer(\r\n          \"https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}@2x.png\",\r\n          {\r\n            zIndex: 1000\r\n          }\r\n        ).addTo(this.map);\r\n      } else {\r\n        if (this.tileLayer != null) {\r\n          this.tileLayer.removeFrom(this.map);\r\n        }\r\n\r\n        if (this.featuresLayer != null) {\r\n          this.featuresLayer.removeFrom(this.map);\r\n        }\r\n\r\n        this.overlayLayer.removeFrom(this.map);\r\n      }\r\n\r\n      if (this.tileSource) {\r\n        this.tileLayer = Leaflet.tileLayer(this.tileSource, {\r\n          attribution: this.attribution,\r\n          maxZoom: 22\r\n        }).addTo(this.map);\r\n      }\r\n\r\n      if (this.featuresSource) {\r\n        this.initializeFeaturesLayer();\r\n      }\r\n\r\n      this.overlayLayer = Leaflet.geoJSON(this.item, {\r\n        ...this.geojsonOptions,\r\n        pane: \"tilePane\"\r\n      }).addTo(this.map);\r\n\r\n      if (this.center != null) {\r\n        const [zoom, lat, lng] = this.center;\r\n\r\n        this.map.setView([lat, lng], zoom);\r\n      } else {\r\n        this.map.fitBounds(this.overlayLayer.getBounds());\r\n      }\r\n    },\r\n    syncWithQueryState(query) {\r\n      this.selectedTab = query.t;\r\n\r\n      if (query.si != null) {\r\n        this.selectedImage = this.cogs[query.si];\r\n      } else {\r\n        this.selectedImage = this.cog;\r\n      }\r\n\r\n      if (query.sf != null) {\r\n        this.selectedFeatures = this.features[query.sf];\r\n      }\r\n\r\n      this.fullscreen = [true, \"true\"].includes(query.fullscreen);\r\n    },\r\n    async updateHash() {\r\n      const center = this.map.getCenter();\r\n      const zoom = this.map.getZoom();\r\n      const hash = `${zoom}/${center.lat.toFixed(6)}/${center.lng.toFixed(6)}`;\r\n\r\n      if (isEqual(this.$route.hash, `#${hash}`)) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.$router.replace({\r\n          ...this.$route,\r\n          hash\r\n        });\r\n      } catch (err) {\r\n        console.warn(err);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\nhtml {\r\n  position: relative;\r\n  min-height: 100%;\r\n}\r\n\r\nbody {\r\n  line-height: 24px;\r\n  color: #111;\r\n  font-family: Arial, sans-serif;\r\n  margin-bottom: 40px;\r\n}\r\n\r\nblockquote,\r\nbody {\r\n  font-size: 16px;\r\n}\r\ntable {\r\n  font-size: 80%;\r\n}\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\nh1,\r\nh2,\r\nh3,\r\nh4 {\r\n  font-family: Arial, sans-serif;\r\n  text-rendering: optimizeLegibility;\r\n  padding-bottom: 4px;\r\n}\r\nh1:last-child,\r\nh2:last-child,\r\nh3:last-child,\r\nh4:last-child {\r\n  padding-bottom: 0;\r\n}\r\nh1 {\r\n  font-weight: 400;\r\n  font-size: 28px;\r\n  line-height: 1.2;\r\n}\r\nh2 {\r\n  font-weight: 700;\r\n  font-size: 21px;\r\n  line-height: 1.3;\r\n}\r\nh3 {\r\n  font-weight: 700;\r\n}\r\nh3,\r\nh4 {\r\n  font-size: 17px;\r\n  line-height: 1.255;\r\n}\r\nh4 {\r\n  font-weight: 400;\r\n}\r\nh5 {\r\n  font-size: 13px;\r\n  line-height: 19px;\r\n}\r\nh5,\r\nh6 {\r\n  font-weight: 700;\r\n}\r\nh6 {\r\n  text-transform: uppercase;\r\n  font-size: 11px;\r\n  line-height: 1.465;\r\n  padding-bottom: 1px;\r\n}\r\np {\r\n  padding: 0;\r\n  margin: 0 0 14px;\r\n}\r\np:last-child {\r\n  margin-bottom: 0;\r\n}\r\np + p {\r\n  margin-top: -4px;\r\n}\r\nb,\r\nstrong {\r\n  font-weight: 700;\r\n}\r\nem,\r\ni {\r\n  font-style: italic;\r\n}\r\nblockquote {\r\n  margin: 13px;\r\n}\r\nsmall {\r\n  font-size: 12px;\r\n}\r\na,\r\na:active,\r\na:link,\r\na:visited {\r\n  color: #0066c0;\r\n}\r\nheader {\r\n  padding: 1.5em 0 0.5em;\r\n}\r\ncode {\r\n  color: #555;\r\n  white-space: nowrap;\r\n}\r\n\r\n.scroll {\r\n  overflow-x: scroll;\r\n  -ms-overflow-style: none;\r\n  overflow: -moz-scrollbars-none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.scroll::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.btn code {\r\n  font-size: 10.5px;\r\n}\r\n\r\n.btn.clipboard {\r\n  white-space: nowrap;\r\n}\r\n\r\n.btn.clipboard:hover {\r\n  text-decoration: none;\r\n}\r\n\r\n.footer {\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: right;\r\n  font-size: 0.75em;\r\n}\r\n\r\n.poweredby {\r\n  border: 1px dotted hotpink;\r\n  border-radius: 4px;\r\n  padding: 5px 10px;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.tabs {\r\n  margin-top: 25px;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  border: none;\r\n  padding: 0.25rem;\r\n  vertical-align: middle\r\n}\r\n\r\n.table td.title {\r\n  border-right: 1px solid #ddd;\r\n}\r\n\r\n.table td.group {\r\n  border-radius: 5px;\r\n  background-color: #ddd;\r\n  padding-left: 7px;\r\n}\r\n\r\n.table td.group h4 {\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n  color: #555;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.table th {\r\n  border-top: none;\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.metadata td.title {\r\n  font-weight: bold;\r\n  width: 33%;\r\n  text-align: right;\r\n}\r\n</style>\r\n\r\n<style scoped lang=\"css\">\r\n.leaflet-pseudo-fullscreen {\r\n  position: fixed !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  z-index: 99999;\r\n}\r\n\r\n.leaflet-container {\r\n  background-color: #262626;\r\n}\r\n\r\n#locator-map {\r\n  height: 200px;\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n#map-container {\r\n  height: 500px;\r\n}\r\n\r\n#map {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n#thumbnail {\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-height: 500px;\r\n}\r\n\r\n#header_logo {\r\n  max-width: 100px;\r\n}\r\n\r\n.table-responsive.assets {\r\n  padding: 15px;\r\n}\r\n\r\n.multiselect {\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=5b1e336f&scoped=true&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./Item.vue?vue&type=style&index=1&id=5b1e336f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b1e336f\",\n  null\n  \n)\n\nexport default component.exports","module.exports = {\r\n\truntimeCompiler: true,\r\n\tpublicPath: '/browse/'\r\n}","/**\r\n * getPropertyDefinitions constructs the object that's used to display\r\n * properties in the sidebar for an Item or Collection. This method returns an object with\r\n * a \"group\" property that describes groups for extensions and external\r\n * provider specific field. It also contain a \"properties\" property which maps\r\n * properties found in STAC \"properties\" fields to either a display label, or an\r\n * object that describes the display characteristics of the field.\r\n */\r\nexport default function getPropertyDefinitions() {\r\n  // Required and Common Metadata properties\r\n  // that are shown in the property list.\r\n  const coreProperties = {\r\n    \"datetime\": {\r\n      \"label\": \"Acquired\",\r\n      \"type\": \"date\"\r\n    },\r\n    \"created\": {\r\n      \"label\": \"Created\",\r\n      \"type\": \"date\"\r\n    },\r\n    \"updated\": {\r\n      \"label\": \"Updated\",\r\n      \"type\": \"date\"\r\n    },\r\n    \"start_datetime\": {\r\n      \"label\": \"Start Time\",\r\n      \"type\": \"date\"\r\n    },\r\n    \"end_datetime\": {\r\n      \"label\": \"End Time\",\r\n      \"type\": \"date\"\r\n    },\r\n    \"license\": \"License\",\r\n    \"platform\": \"Platform\",\r\n    \"instruments\": \"Instruments\",\r\n    \"constellation\": \"Constellation\",\r\n    \"mission\": \"Mission\",\r\n    \"gsd\": \"Ground Sample Distance\",\r\n\r\n    // Backwards compatibility\r\n    \"provider\": \"Provider\",\r\n  };\r\n\r\n  const stacExtensions = {\r\n    checksum: {\r\n      title: \"Checksum\",\r\n      props: {\r\n        \"checksum:multihash\": \"Multihash\"\r\n      }\r\n    },\r\n    datacube: {\r\n      title: \"Data Cube\",\r\n      props: {\r\n        \"cube:dimensions\": \"Dimensions\",\r\n        skip: true // Value is a complex object that would require specific display logic TODO\r\n      }\r\n    },\r\n    eo: {\r\n      title: \"Electro-Optical\",\r\n      props: {\r\n        \"eo:bands\": {\r\n          \"label\": \"Bands\",\r\n          \"skip\": true // Handled separately from property list\r\n        },\r\n        \"eo:cloud_cover\": {\r\n          \"label\": \"Cloud cover\",\r\n          \"suffix\": \"%\"\r\n        },\r\n\r\n        // Backwards compatability\r\n        \"eo:platform\": \"Platform\",\r\n        \"eo:constellation\": \"Constellation\",\r\n        \"eo:instrument\": \"Instrument\",\r\n        \"eo:gsd\": {\r\n          \"label\": \"<abbr title=\\\"Ground sample distance (eo:gsd)\\\">GSD</abbr>\",\r\n          \"suffix\": \"m\"\r\n        },\r\n        \"eo:epsg\": \"EPSG code\",\r\n        \"eo:off_nadir\": {\r\n          \"label\": \"Off-nadir angle\",\r\n          \"suffix\": \"º\"\r\n        },\r\n        \"eo:azimuth\": {\r\n          \"label\": \"Sun azimuth\",\r\n          \"suffix\": \"º\"\r\n        },\r\n        \"eo:sun_azimuth\": {\r\n          \"label\": \"Sun azimuth\",\r\n          \"suffix\": \"º\"\r\n        },\r\n        \"eo:sun_elevation\": {\r\n          \"label\": \"Sun elevation\",\r\n          \"suffix\": \"º\"\r\n        }\r\n      }\r\n    },\r\n    label: {\r\n      title: \"Labels\",\r\n      props: {\r\n        \"label:property\": {\r\n          \"label\": \"Properties\",\r\n          \"type\": \"label:property\"\r\n        },\r\n        \"label:classes\": {\r\n          \"label\": \"Classes\",\r\n          \"type\": \"label:classes\"\r\n        },\r\n        \"label:description\": \"Description\",\r\n        \"label:type\": \"Type\",\r\n        \"label:tasks\": \"Tasks\",\r\n        \"label:methods\": \"Methods\",\r\n        \"label:overviews\": {\r\n          \"label\": \"Overviews\",\r\n          \"type\": \"label:overviews\"\r\n        },\r\n\r\n        // Backwards Compatability\r\n        \"label:task\": \"Task\",\r\n        \"label:method\": \"Method\",\r\n        \"label:overview\": {\r\n          \"label\": \"Overview\",\r\n          \"type\": \"label:overviews\"\r\n        },\r\n      }\r\n    },\r\n    pc: {\r\n      title: \"Point Cloud\",\r\n      props: {\r\n        \"pc:count\": \"Number of Points\",\r\n        \"pc:type\": \"Type\",\r\n        \"pc:encoding\": \"Format\",\r\n        \"pc:schemas\": {\r\n          label: \"Schemas\",\r\n          skip: true // Value is a complex object that would require specific display logic TODO\r\n        },\r\n        \"pc:density\": \"Density\",\r\n        \"pc:statitics\": {\r\n          label: \"Statistics\",\r\n          skip: true // Value is a complex object that would require specific display logic TODO\r\n        }\r\n      }\r\n    },\r\n    proj: {\r\n      title: \"Projection\",\r\n      props: {\r\n        \"proj:epsg\": \"EPSG Code\",\r\n        \"proj:wkt2\": \"WKT2\",\r\n        \"proj:projjson\": \"PROJJSON\",\r\n        \"proj:geometry\": {\r\n          label: \"Footprint\",\r\n          skip: true // Value is a complex object that would require specific display logic TODO\r\n        },\r\n        \"proj:bbox\": \"Bounding Box\",\r\n        \"proj:centroid\": \"Centroid\",\r\n        \"proj:shape\": \"Shape\",\r\n        \"proj:transform\": \"Transform\"\r\n      }\r\n    },\r\n    sar: {\r\n      title: \"SAR\",\r\n      props: {\r\n        \"sar:instrument_mode\": \"Instrument Mode\",\r\n        \"sar:frequency_band\": \"Frequency Band\",\r\n        \"sar:center_frequency\tnumber\": \"Center Frequency\",\r\n        \"sar:polarizations\": \"Polarizations\",\r\n        \"sar:product_type\": \"Product Type\",\r\n        \"sar:resolution_range\": \"Range Resolution\",\r\n        \"sar:resolution_azimuth\": \"Azimuth Resolution\",\r\n        \"sar:pixel_spacing_range\": \"Range Pixel Spacing\",\r\n        \"sar:pixel_spacing_azimuth\": \"Aziumth Pixel Spacing\",\r\n        \"sar:looks_range\": \"Range Looks\",\r\n\t\"sar:looks_azimuth\": \"Azimuth Looks\",\r\n        \"sar:looks_equivalent_number\": \"Equivalent Number of Looks\",\r\n        \"sar:observation_direction\": \"Observation Direction\"\r\n      }\r\n    },\r\n    sat: {\r\n      title: \"Satellite\",\r\n      props: {\r\n        \"sat:orbit_state\": \"Orbit State\",\r\n        \"sat:relative_orbit\": \"Relative Orbit Number\"\r\n      }\r\n    },\r\n    sci: {\r\n      title: \"Scientific\",\r\n      props: {\r\n        \"sci:doi\": \"DOI\",\r\n        \"sci:citation\": \"Citation\",\r\n        \"sci:publications\": \"Publications\"\r\n      }\r\n    },\r\n    timestamps: {\r\n      title: \"Timestamps\",\r\n      props: {\r\n        published: {\r\n          \"label\": \"Published\",\r\n          \"type\": \"date\"\r\n        },\r\n        expires: {\r\n          \"label\": \"Expires\",\r\n          \"type\": \"date\"\r\n        },\r\n        unpublished: {\r\n          \"label\": \"Unpublished\",\r\n          \"type\": \"date\"\r\n        },\r\n      }\r\n    },\r\n    version: {\r\n      title: \"Version\",\r\n      props: {\r\n        \"version\": \"Version\",\r\n        \"deprecated\": \"Deprecated\"\r\n      }\r\n    },\r\n    view: {\r\n      title: \"View Geometry\",\r\n      props: {\r\n        \"view:off_nadir\": {\r\n          \"label\": \"Off-nadir angle\",\r\n          \"suffix\": \"º\"\r\n        },\r\n        \"view:incidence_angle\": {\r\n\t  label: \"Incidence angle\",\r\n\t  suffix: \"º\"\r\n\t},\r\n        \"view:azimuth\": {\r\n\t  label: \"Viewing azimuth\",\r\n\t  suffix: \"º\"\r\n\t},\r\n        \"view:sun_azimuth\": {\r\n\t  label: \"Sun azimuth\",\r\n\t  suffix: \"º\"\r\n\t},\r\n        \"view:sun_elevation\": {\r\n\t  label: \"Sun elevation\",\r\n\t  suffix: \"º\"\r\n\t}\r\n      }\r\n    },\r\n\r\n    // Old STAC extensions\r\n    dtr: {\r\n      title: \"Date Time Range\",\r\n      props: {\r\n        \"dtr:end_datetime\": {\r\n          \"label\": \"End\",\r\n          \"type\": \"date\"\r\n        },\r\n        \"dtr:start_datetime\": {\r\n          \"label\": \"Start\",\r\n          \"type\": \"date\"\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const externalProviderGroups = {\r\n    pl: {\r\n      title: \"Planet\",\r\n      props: {\r\n        \"pl:anomalous_pixels\": {\r\n          \"label\": \"Anomalous pixels\"\r\n        },\r\n        \"pl:epsg_code\": {\r\n          \"label\": \"EPSG code\"\r\n        },\r\n        \"pl:ground_control\": {\r\n          \"label\": \"Ground control\"\r\n        },\r\n        \"pl:instrument\": {\r\n          \"label\": \"Instrument\"\r\n        },\r\n        \"pl:item_type\": {\r\n          \"label\": \"Source type\"\r\n        },\r\n        \"pl:origin_x\": {\r\n          \"label\": \"X origin\"\r\n        },\r\n        \"pl:origin_y\": {\r\n          \"label\": \"Y origin\"\r\n        },\r\n        \"pl:pixel_resolution\": {\r\n          \"label\": \"Pixel resolution\",\r\n          \"suffix\": \"m\"\r\n        },\r\n        \"pl:provider\": {\r\n          \"label\": \"Provider\"\r\n        },\r\n        \"pl:published\": {\r\n          \"label\": \"Published\",\r\n          \"type\": \"date\"\r\n        },\r\n        \"pl:quality_category\": {\r\n          \"label\": \"Quality category\"\r\n        },\r\n        \"pl:columns\": {\r\n          \"label\": \"Columns\"\r\n        },\r\n        \"pl:rows\": {\r\n          \"label\": \"Rows\"\r\n        },\r\n        \"pl:satellite_id\": {\r\n          \"label\": \"Satellite ID\"\r\n        },\r\n        \"pl:strip_id\": {\r\n          \"label\": \"Strip ID\"\r\n        },\r\n        \"pl:updated\": {\r\n          \"label\": \"Updated\",\r\n          \"type\": \"date\"\r\n        },\r\n        \"pl:usable_data\": {\r\n          \"label\": \"Usable data\"\r\n        },\r\n        \"pl:view_angle\": {\r\n          \"label\": \"View angle\",\r\n          \"suffix\": \"º\"\r\n        }\r\n      }\r\n    },\r\n    cbers: {\r\n      title: \"CBERS\",\r\n      props: {\r\n        \"cbers:data_type\": \"Data type\",\r\n        \"cbers:path\": \"CBERS Path\",\r\n        \"cbers:row\": \"CBERS Row\",\r\n      }\r\n    },\r\n    dg: {\r\n      title: \"Digital Globe\",\r\n      props: {\r\n        \"dg:catalog_id\": \"DigitalGlobe ID\",\r\n        \"dg:platform\": \"Platform\",\r\n        \"dg:product_level\": \"Product level\",\r\n      }\r\n    },\r\n    landsat: {\r\n      title: \"Landsat\",\r\n      props: {\r\n        \"landsat:\": \"Landsat\",\r\n        \"landsat:product_id\": \"Product ID\",\r\n        \"landsat:scene_id\": \"Scene ID\",\r\n        \"landsat:processing_level\": \"Processing level\",\r\n        \"landsat:tier\": \"Tier\"\r\n      }\r\n    },\r\n    gee: {\r\n      title: \"Google Earth Engine\",\r\n      props: {\r\n        \"gee:type\": \"Type\",\r\n        \"gee:cadence\": \"Cadence\",\r\n        \"gee:asset_schema\": \"Asset schema\",\r\n      }\r\n    },\r\n    sentinel: {\r\n      title: \"Sentinel\",\r\n      props: {\r\n        \"sentinel:utm_zone\": \"UTM zone\",\r\n        \"sentinel:latitude_band\": \"Latitude band\",\r\n        \"sentinel:grid_square\": \"Grid square\",\r\n        \"sentinel:sequence\": \"Sequence\",\r\n        \"sentinel:product_id\": \"Product ID\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Load up the property definitions based on the above configuration.\r\n\r\n  const propertyDefinitions = {\r\n    groups: {},\r\n    properties: {}\r\n  };\r\n\r\n  for(var coreProp in coreProperties) {\r\n    propertyDefinitions.properties[coreProp] = coreProperties[coreProp];\r\n  }\r\n\r\n  for(var seGroup in stacExtensions) {\r\n    propertyDefinitions.groups[seGroup] = stacExtensions[seGroup].title;\r\n    for(var seProp in stacExtensions[seGroup].props) {\r\n      propertyDefinitions.properties[seProp] = stacExtensions[seGroup].props[seProp];\r\n    }\r\n  }\r\n\r\n  for(var exGroup in externalProviderGroups) {\r\n    propertyDefinitions.groups[exGroup] = externalProviderGroups[exGroup].title;\r\n    for(var exProp in externalProviderGroups[exGroup].props) {\r\n      propertyDefinitions.properties[exProp] = externalProviderGroups[exGroup].props[exProp];\r\n    }\r\n  }\r\n\r\n  return propertyDefinitions;\r\n};\r\n","import url from \"url\";\r\n\r\nimport clone from \"clone\";\r\nimport { HtmlRenderer, Parser } from \"commonmark\";\r\nimport escape from \"lodash.escape\";\r\nimport isEqual from \"lodash.isequal\";\r\nimport isEmpty from \"lodash.isempty\";\r\nimport jsonQuery from \"json-query\";\r\nimport spdxToHTML from \"spdx-to-html\";\r\nimport spdxLicenseIds from \"spdx-license-ids\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nimport getPropertyDefinitions from \"../properties.js\";\r\n\r\nconst propertyDefinitions = getPropertyDefinitions(),\r\n      propertyMap = propertyDefinitions.properties,\r\n      groupMap = propertyDefinitions.groups;\r\n\r\nconst BAND_LABELS = {\r\n  id: \"ID\",\r\n  name: \"Name\",\r\n  common_name: \"Common Name\",\r\n  gsd: `<abbr title=\"Ground Sample Distance\">GSD</a> (m)`,\r\n  accuracy: \"Accuracy (m)\",\r\n  center_wavelength: \"Center Wavelength (μm)\",\r\n  full_width_half_max: `<abbr title=\"Full width at half maximum\">FWHM</abbr> (μm)`,\r\n  description: \"Description\"\r\n};\r\n\r\nconst MARKDOWN_READER = new Parser({\r\n  smart: true\r\n});\r\nconst MARKDOWN_WRITER = new HtmlRenderer({\r\n  safe: true,\r\n  softbreak: \"<br />\"\r\n});\r\n\r\nexport default {\r\n  metaInfo() {\r\n    return {\r\n      meta: [\r\n        {\r\n          name: \"google-site-verification\",\r\n          content: process.env.GOOGLE_SITE_VERIFICATION\r\n        }\r\n      ].filter(({ content }) => content != null),\r\n      script: [\r\n        { json: this.jsonLD, type: \"application/ld+json\" },\r\n        {\r\n          json: {\r\n            path: this.path\r\n          },\r\n          class: \"state\",\r\n          type: \"application/json\"\r\n        }\r\n      ],\r\n      __dangerouslyDisableSanitizers: [\"script\"],\r\n      title: this.title,\r\n      titleTemplate: \"%s :: STAC Browser\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getEntity\"]),\r\n    _collectionProperties() {\r\n      return (this.collection && this.collection.properties) || {};\r\n    },\r\n    _entity() {\r\n      const entity = this.getEntity(this.url);\r\n\r\n      if (entity instanceof Error) {\r\n        this.$router.replace(\"/\");\r\n        return;\r\n      }\r\n\r\n      return entity;\r\n    },\r\n    _keywords() {\r\n      // [].concat() is a work-around for catalogs where keywords is a string (SpaceNet)\r\n      return [].concat(\r\n        this.entity.keywords ||\r\n          (this.rootCatalog && this.rootCatalog.keywords) ||\r\n          []\r\n      );\r\n    },\r\n    _properties() {\r\n      return this.entity.properties || {};\r\n    },\r\n    _providers() {\r\n      return (\r\n        this.entity.providers ||\r\n        (this.rootCatalog && this.rootCatalog.providers) ||\r\n        []\r\n      );\r\n    },\r\n    bandFields() {\r\n      const example = this.bands[0];\r\n\r\n      if (example != null) {\r\n        return Object.keys(example).map(k => ({\r\n          key: k,\r\n          label: BAND_LABELS[k]\r\n        }));\r\n      }\r\n\r\n      return [];\r\n    },\r\n    breadcrumbs() {\r\n      // create slugs for everything except the root\r\n      const slugs = this.ancestors.slice(1).map(this.slugify);\r\n\r\n      return this.ancestors.map((uri, idx) => {\r\n        let entity = this.getEntity(uri);\r\n\r\n        if (entity.type === \"FeatureCollection\") {\r\n          const { hash } = url.parse(uri);\r\n          const idx = hash.slice(1);\r\n\r\n          entity = entity.features[idx];\r\n        }\r\n\r\n        // use all previous slugs to construct a path to this entity\r\n        let to = \"/\" + slugs.slice(0, idx).join(\"/\");\r\n\r\n        if (entity != null) {\r\n          return {\r\n            to,\r\n            text: entity.title || entity.id,\r\n            url: uri\r\n          };\r\n        }\r\n\r\n        return {\r\n          to,\r\n          url: uri\r\n        };\r\n      });\r\n    },\r\n    description() {\r\n      return (\r\n        this._description &&\r\n        MARKDOWN_WRITER.render(MARKDOWN_READER.parse(this._description))\r\n      );\r\n    },\r\n    entity() {\r\n      return this._entity;\r\n    },\r\n    id() {\r\n      // REQUIRED\r\n      return this.entity.id;\r\n    },\r\n    keywords() {\r\n      return this._keywords.join(\", \");\r\n    },\r\n    license() {\r\n      if (this._license != null && !spdxLicenseIds.includes(this._license)) {\r\n        if (this.licenseUrl != null) {\r\n          return `<a href=\"${this.licenseUrl}\">${this._license}</a>`;\r\n        }\r\n\r\n        return this._license;\r\n      }\r\n\r\n      return spdxToHTML(this._license) || this._license;\r\n    },\r\n    licenseUrl() {\r\n      if (!spdxLicenseIds.includes(this._license)) {\r\n        return this.links\r\n          .concat(\r\n            ((this.collection && this.collection.links) || []).concat(\r\n              (this.rootCatalog && this.rootCatalog.links) || []\r\n            )\r\n          )\r\n          .filter(x => x.rel === \"license\")\r\n          .map(x => x.href)\r\n          .pop();\r\n      }\r\n\r\n      return `https://spdx.org/licenses/${this._license}.html`;\r\n    },\r\n    links() {\r\n      if (typeof this.entity.links === \"object\") {\r\n        // previous STAC version specified links as an object (SpaceNet MVS Dataset)\r\n        return Object.values(this.entity.links);\r\n      }\r\n\r\n      return this.entity.links || [];\r\n    },\r\n    loaded() {\r\n      return this.entity != null;\r\n    },\r\n    propertyList() {\r\n      const skip = key => propertyMap[key] && propertyMap[key].skip;\r\n\r\n      const label = key => {\r\n        if (typeof propertyMap[key] === \"object\") {\r\n          return propertyMap[key].label;\r\n        }\r\n\r\n        return propertyMap[key] || key;\r\n      };\r\n\r\n      const format = (key, value) => {\r\n        let suffix = \"\";\r\n\r\n        if (typeof propertyMap[key] === \"object\") {\r\n          if (propertyMap[key].suffix != null) {\r\n            suffix = propertyMap[key].suffix;\r\n          }\r\n\r\n          if (propertyMap[key].type === \"date\") {\r\n            return escape(\r\n              new Date(value).toLocaleString([], {\r\n                timeZone: \"UTC\",\r\n                timeZoneName: \"short\"\r\n              }) + suffix\r\n            );\r\n          }\r\n\r\n          if (propertyMap[key].type === \"label:property\") {\r\n            if (value == null) {\r\n              return undefined;\r\n            }\r\n\r\n            return value.map(x => `<code>${x}</code>`).join(\", \");\r\n          }\r\n\r\n          if (propertyMap[key].type === \"label:classes\") {\r\n            if (Array.isArray(value)) {\r\n              return value\r\n                .map(o =>\r\n                  Object.entries(o)\r\n                    .map(([k, v]) => {\r\n                      if (k === \"name\") {\r\n                        if (v === \"raster\") {\r\n                          return undefined;\r\n                        }\r\n\r\n                        return `<code><b>${v}</b></code>:`;\r\n                      }\r\n\r\n                      if (Array.isArray(v)) {\r\n                        return v.map(x => `<code>${x}</code>`).join(\", \");\r\n                      }\r\n\r\n                      return v;\r\n                    })\r\n                    .join(\" \")\r\n                )\r\n                .join(\"<br>\\n\");\r\n            }\r\n\r\n            return Object.entries(value)\r\n              .map(([k, v]) => {\r\n                if (k === \"name\") {\r\n                  if (v === \"raster\") {\r\n                    return undefined;\r\n                  }\r\n\r\n                  return `<code><b>${v}</b></code>:`;\r\n                }\r\n\r\n                if (Array.isArray(v)) {\r\n                  return v.map(x => `<code>${x}</code>`).join(\", \");\r\n                }\r\n\r\n                return v;\r\n              })\r\n              .join(\" \");\r\n          }\r\n\r\n          if (propertyMap[key].type === \"label:overviews\") {\r\n            return value\r\n              .map(v => {\r\n                const prop = v.property_key;\r\n\r\n                if (v.counts != null) {\r\n                  return `<code><b>${prop}</b></code>: ${v.counts\r\n                    .map(c => `<code>${c.name}</code> (${c.count})`)\r\n                    .join(\", \")}`;\r\n                }\r\n\r\n                if (v.statistics != null) {\r\n                  return `<code><b>${prop}</b></code>: ${v.statistics\r\n                    .map(c => `<code>${c.name}</code> (${c.count})`)\r\n                    .join(\", \")}`;\r\n                }\r\n\r\n                return \"\";\r\n              })\r\n              .join(\"<br>\\n\");\r\n          }\r\n        }\r\n\r\n        if (key === \"eo:epsg\") {\r\n          return `<a href=\"http://epsg.io/${value}\">${value}</a>`;\r\n        }\r\n\r\n        if (Array.isArray(value)) {\r\n          return escape(value.map(v => {\r\n            if(typeof(v) === \"object\") {\r\n              return JSON.stringify(v);\r\n            }\r\n            return v;\r\n          }));\r\n        }\r\n\r\n        if (typeof value === \"object\") {\r\n          return escape(JSON.stringify(value));\r\n        }\r\n\r\n        return escape(value + suffix);\r\n      };\r\n\r\n      const props = {\r\n        ...this._collectionProperties,\r\n        ...this._properties\r\n      };\r\n\r\n      return Object.entries(props)\r\n        .filter(([, v]) => Number.isFinite(v) || !isEmpty(v))\r\n        .filter(([k]) => !skip(k))\r\n        .sort(([a], [b]) => a - b)\r\n        .map(([key, value]) => ({\r\n          key,\r\n          label: label(key),\r\n          value: format(key, value)\r\n        }))\r\n        .reduce((acc, prop) => {\r\n          let ext = \"\";\r\n          if (prop.key.includes(\":\")) {\r\n            const prefix = prop.key.split(\":\")[0];\r\n            ext = groupMap[prefix] || prefix;\r\n          }\r\n\r\n          acc[ext] = acc[ext] || [];\r\n          acc[ext].push(prop);\r\n\r\n          return acc;\r\n        }, {});\r\n    },\r\n    providers() {\r\n      return this._providers.map(x => ({\r\n        ...x,\r\n        description: MARKDOWN_WRITER.render(\r\n          MARKDOWN_READER.parse(x.description || \"\")\r\n        )\r\n      }));\r\n    },\r\n    rootCatalog() {\r\n      const rootLink = this.links.find(x => x.rel === \"root\");\r\n\r\n      if (rootLink != null) {\r\n        return this.getEntity(this.resolve(rootLink.href, this.url));\r\n      }\r\n\r\n      return this.getEntity(this.ancestors[0]);\r\n    },\r\n    title() {\r\n      if (this._title != null) {\r\n        return `${this._title} (${this.id})`;\r\n      }\r\n\r\n      return this.id;\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      if (!isEqual(to.query, from.query)) {\r\n        this.syncWithQueryState(to.query);\r\n      }\r\n    },\r\n    entity(to, from) {\r\n      if (!isEqual(to, from)) {\r\n        this._validate(to);\r\n\r\n        this.initialize();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initialize();\r\n\r\n    this._validate(this.entity);\r\n  },\r\n  methods: {\r\n    _validate(data) {\r\n      this.validate(data).then(errors => {\r\n        if (errors != null) {\r\n          console.log(errors);\r\n          console.group(\"Validation errors\");\r\n          errors.forEach(err => {\r\n            console.warn(`${err.dataPath} ${err.message}:`);\r\n            const { value } = jsonQuery(err.dataPath, {\r\n              data\r\n            });\r\n            console.warn(clone(value));\r\n          });\r\n          console.groupEnd();\r\n        }\r\n\r\n        this.validationErrors = errors;\r\n      });\r\n    },\r\n    async updateState(updated) {\r\n      const qs = {\r\n        ...this.$route.query,\r\n        ...updated\r\n      };\r\n\r\n      // remove nulls and false values\r\n      const query = Object.keys(qs)\r\n        .filter(x => qs[x] != null && qs[x] !== false)\r\n        .reduce((acc, k) => {\r\n          acc[k] = qs[k].toString();\r\n\r\n          return acc;\r\n        }, {});\r\n\r\n      if (isEqual(this.$route.query, query)) {\r\n        // nothing to change\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.$router.replace({\r\n          ...this.$route,\r\n          query\r\n        });\r\n      } catch (err) {\r\n        console.warn(err);\r\n      }\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=style&index=0&id=79e1ec1e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=style&index=0&id=79e1ec1e&scoped=true&lang=css&\"","import Ajv from \"ajv\";\r\n\r\nconst STAC_PROXY_URL =\r\n  process.env.STAC_PROXY_URL;\r\n\r\nexport async function fetchUri(uri) {\r\n  // If we are proxying a STAC Catalog, replace any URI with the proxied address.\r\n  // STAC_PROXY_URL has the form https://thingtoproxy.com|http://proxy:111\r\n  const proxiedUri = !!STAC_PROXY_URL ? (\r\n    uri.replace(STAC_PROXY_URL.split('|')[0], STAC_PROXY_URL.split('|')[1])\r\n  ) : uri;\r\n  return fetch(proxiedUri);\r\n};\r\n\r\nconst modifyLoadSchemaUri = function(baseUrl, uri) {\r\n  if(uri.includes(\"://\")) { return uri; } // Absolute URI\r\n\r\n  if(uri.includes(\"/\")) {\r\n    // Relative path, e.g. collection to catalog.\r\n    return `${baseUrl}/${uri}`;\r\n  }\r\n\r\n  // Common Metadata\r\n  return `${baseUrl}/item-spec/json-schema/${uri}`;\r\n};\r\n\r\nconst fixUpSchema = function(schema, schemaUri) {\r\n  // Make $id unique, otherwise AjV will complain\r\n  // Taken from https://github.com/m-mohr/stac-node-validator/blob/master/index.js#L118 (79d3461)\r\n  schema.$id = schemaUri + '#';\r\n\r\n  // Fix old schemas that have 'id' instead of '$id'\r\n  if(\"id\" in schema) {\r\n    delete schema.id;\r\n  }\r\n\r\n  return schema;\r\n};\r\n\r\nexport async function fetchSchemaValidator(stacObjectType, stacVersion) {\r\n\r\n  // 1.0.0-beta.1 schemas have some issues that are fixed in dev.\r\n  let baseUrl = stacVersion === '1.0.0-beta.1' ? (\r\n    `https://raw.githubusercontent.com/radiantearth/stac-spec/dev`\r\n  ) : (\r\n    `https://raw.githubusercontent.com/radiantearth/stac-spec/v${stacVersion}`\r\n  );\r\n\r\n  let schemaUrl = ( `${baseUrl}/${stacObjectType}-spec` +\r\n                   `/json-schema/${stacObjectType}.json`);\r\n\r\n  const rsp = await fetchUri(schemaUrl);\r\n  if (!rsp.ok) {\r\n    throw new Error(`Loading error: ${rsp.statusText}`);\r\n  }\r\n\r\n  const schema = fixUpSchema(await rsp.json(), schemaUrl);\r\n\r\n  const loadSchema = async function(uri) {\r\n    let uriToFetch = modifyLoadSchemaUri(baseUrl, uri);\r\n\r\n    // Fetching the $schema from json-schema.org was causing a recursive loop;\r\n    // avoid fetching.\r\n    if(uriToFetch.includes(\"http://json-schema.org/\")) {\r\n      return {};\r\n    };\r\n\r\n    const rsp = await fetchUri(uriToFetch);\r\n\r\n    if (!rsp.ok) {\r\n      throw new Error(`Loading error: ${rsp.statusText}`);\r\n    }\r\n\r\n    let loadedSchema = fixUpSchema(await rsp.json(), uriToFetch);\r\n\r\n    return loadedSchema;\r\n  };\r\n\r\n  const ajv = new Ajv({\r\n    loadSchema\r\n  });\r\n\r\n\r\n  return ajv.compileAsync(schema);\r\n};\r\n"],"sourceRoot":""}